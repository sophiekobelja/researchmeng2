ij> -- Test predicate pushdown into expressions in a FROM list.  As of
-- DERBY-805 this test only looks at pushing predicates into UNION
-- operators, but this test will likely grow as additional predicate
-- pushdown functionality is added to Derby. Note that "noTimeout"
-- is set to true for this test because we print out a lot of query
-- plans and we don't want the plans to differ from one machine
-- to another (which can happen if some machines are faster than
-- others when noTimeout is false).
-- Create the tables/views for DERBY-805 testing.  For DERBY-805
-- we can tell if a predicate has been "pushed" by looking at
-- the query plan information for the tables in question: if the
-- table has an index on a column that is used as part of the
-- pushed predicate, then the optimizer will (for these tests)
-- do an Index scan instead of a Table scan.  If the table does
-- not have such an index then the predicate will show up as a
-- "qualifier" for a Table scan.  In all of these tests T3 and T4
-- have appropriate indexes, so if we push a predicate to either
-- of those tables we should see index scans.  Neither T1 nor T2
-- has indexes, so if we push a predicate to either of those tables
-- we should see a qualifier in the table scan information.
CREATE TABLE "APP"."T1" ("I" INTEGER, "J" INTEGER);
0 rows inserted/updated/deleted
ij> insert into t1 values (1, 2), (2, 4), (3, 6), (4, 8), (5, 10);
5 rows inserted/updated/deleted
ij> CREATE TABLE "APP"."T2" ("I" INTEGER, "J" INTEGER);
0 rows inserted/updated/deleted
ij> insert into t2 values (1, 2), (2, -4), (3, 6), (4, -8), (5, 10);
5 rows inserted/updated/deleted
ij> CREATE TABLE "APP"."T3" ("A" INTEGER, "B" INTEGER);
0 rows inserted/updated/deleted
ij> CREATE INDEX "APP"."T3_IX1" ON "APP"."T3" ("A");
0 rows inserted/updated/deleted
ij> CREATE INDEX "APP"."T3_IX2" ON "APP"."T3" ("B");
0 rows inserted/updated/deleted
ij> insert into T3 values (1,1), (2,2), (3,3), (4,4), (6, 24),
  (7, 28), (8, 32), (9, 36), (10, 40);
9 rows inserted/updated/deleted
ij> insert into t3 (a) values 11, 12, 13, 14, 15, 16, 17, 18, 19, 20;
10 rows inserted/updated/deleted
ij> insert into t3 (a) values 21, 22, 23, 24, 25, 26, 27, 28, 29, 30;
10 rows inserted/updated/deleted
ij> insert into t3 (a) values 31, 32, 33, 34, 35, 36, 37, 38, 39, 40;
10 rows inserted/updated/deleted
ij> insert into t3 (a) values 41, 42, 43, 44, 45, 46, 47, 48, 49, 50;
10 rows inserted/updated/deleted
ij> insert into t3 (a) values 51, 52, 53, 54, 55, 56, 57, 58, 59, 60;
10 rows inserted/updated/deleted
ij> insert into t3 (a) values 61, 62, 63, 64, 65, 66, 67, 68, 69, 70;
10 rows inserted/updated/deleted
ij> insert into t3 (a) values 71, 72, 73, 74, 75, 76, 77, 78, 79, 80;
10 rows inserted/updated/deleted
ij> insert into t3 (a) values 81, 82, 83, 84, 85, 86, 87, 88, 89, 90;
10 rows inserted/updated/deleted
ij> insert into t3 (a) values 91, 92, 93, 94, 95, 96, 97, 98, 99, 100;
10 rows inserted/updated/deleted
ij> update t3 set b = 2 * a where a > 10;
90 rows inserted/updated/deleted
ij> CREATE TABLE "APP"."T4" ("A" INTEGER, "B" INTEGER);
0 rows inserted/updated/deleted
ij> CREATE INDEX "APP"."T4_IX1" ON "APP"."T4" ("A");
0 rows inserted/updated/deleted
ij> CREATE INDEX "APP"."T4_IX2" ON "APP"."T4" ("B");
0 rows inserted/updated/deleted
ij> insert into t4 values (3, 12), (4, 16);
2 rows inserted/updated/deleted
ij> insert into t4 (a) values 11, 12, 13, 14, 15, 16, 17, 18, 19, 20;
10 rows inserted/updated/deleted
ij> insert into t4 (a) values 21, 22, 23, 24, 25, 26, 27, 28, 29, 30;
10 rows inserted/updated/deleted
ij> insert into t4 (a) values 31, 32, 33, 34, 35, 36, 37, 38, 39, 40;
10 rows inserted/updated/deleted
ij> insert into t4 (a) values 41, 42, 43, 44, 45, 46, 47, 48, 49, 50;
10 rows inserted/updated/deleted
ij> insert into t4 (a) values 51, 52, 53, 54, 55, 56, 57, 58, 59, 60;
10 rows inserted/updated/deleted
ij> insert into t4 (a) values 61, 62, 63, 64, 65, 66, 67, 68, 69, 70;
10 rows inserted/updated/deleted
ij> insert into t4 (a) values 71, 72, 73, 74, 75, 76, 77, 78, 79, 80;
10 rows inserted/updated/deleted
ij> insert into t4 (a) values 81, 82, 83, 84, 85, 86, 87, 88, 89, 90;
10 rows inserted/updated/deleted
ij> insert into t4 (a) values 91, 92, 93, 94, 95, 96, 97, 98, 99, 100;
10 rows inserted/updated/deleted
ij> update t4 set b = 2 * a where a > 10;
90 rows inserted/updated/deleted
ij> CREATE TABLE "APP"."T5" ("I" INTEGER, "J" INTEGER);
0 rows inserted/updated/deleted
ij> insert into t5 values (5, 10);
1 row inserted/updated/deleted
ij> CREATE TABLE "APP"."T6" ("P" INTEGER, "Q" INTEGER);
0 rows inserted/updated/deleted
ij> insert into t5 values (2, 4), (4, 8);
2 rows inserted/updated/deleted
ij> CREATE TABLE "APP"."XX1" ("II" INTEGER NOT NULL, "JJ" CHAR(10),
  "MM" INTEGER, "OO" DOUBLE, "KK" BIGINT);
0 rows inserted/updated/deleted
ij> CREATE TABLE "APP"."YY1" ("II" INTEGER NOT NULL, "JJ" CHAR(10),
  "AA" INTEGER, "OO" DOUBLE, "KK" BIGINT);
0 rows inserted/updated/deleted
ij> ALTER TABLE "APP"."YY1" ADD CONSTRAINT "PK_YY1" PRIMARY KEY ("II");
0 rows inserted/updated/deleted
ij> ALTER TABLE "APP"."XX1" ADD CONSTRAINT "PK_XX1" PRIMARY KEY ("II");
0 rows inserted/updated/deleted
ij> create view V1 as select i, j from T1 union select i,j from T2;
0 rows inserted/updated/deleted
ij> create view V2 as select a,b from T3 union select a,b from T4;
0 rows inserted/updated/deleted
ij> create view xxunion as select all ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1 union all select ii, jj, kk, mm from xx1;
0 rows inserted/updated/deleted
ij> create view yyunion as select all ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1 union all select ii, jj, kk, aa from yy1;
0 rows inserted/updated/deleted
ij> call SYSCS_UTIL.SYSCS_SET_RUNTIMESTATISTICS(1);
0 rows inserted/updated/deleted
ij> maximumdisplaywidth 20000;
ij> -- Predicate push-down should occur for next two queries.  Thus we
-- we should see Index scans for T3 and T4--and this should be the
-- case regardless of the order of the FROM list.
select * from V1, V2 where V1.j = V2.b;
I          |J          |A          |B          
-----------------------------------------------
1          |2          |2          |2          
2          |4          |4          |4          
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Predicate push-down should occur for next two queries.  Thus we
-- we should see Index scans for T3 and T4--and this should be the
-- case regardless of the order of the FROM list.
select * from V1, V2 where V1.j = V2.b
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 7
Rows seen from the right = 2
Rows filtered = 0
Rows returned = 2
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 10
	Rows returned = 7
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=10
		Number of rows output=7
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 5
		Rows seen from the right = 5
		Rows returned = 10
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
		Right result set:
			Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
Right result set:
	Sort ResultSet:
	Number of opens = 7
	Rows input = 2
	Rows returned = 2
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=0
		Number of rows output=0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 7
		Rows seen from the left = 2
		Rows seen from the right = 0
		Rows returned = 2
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (10):
			Number of opens = 7
			Rows seen = 2
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T3:
				Number of opens = 7
				Rows seen = 2
				Columns accessed from heap = {0}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T3 using index T3_IX2 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 7
					Rows seen = 2
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (13):
			Number of opens = 7
			Rows seen = 0
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T4:
				Number of opens = 7
				Rows seen = 0
				Columns accessed from heap = {0}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T4 using index T4_IX2 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 7
					Rows seen = 0
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
ij> select * from V2, V1 where V1.j = V2.b;
A          |B          |I          |J          
-----------------------------------------------
2          |2          |1          |2          
4          |4          |2          |4          
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	select * from V2, V1 where V1.j = V2.b
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (14):
Number of opens = 1
Rows seen = 2
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Nested Loop Join ResultSet:
	Number of opens = 1
	Rows seen from the left = 7
	Rows seen from the right = 2
	Rows filtered = 0
	Rows returned = 2
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Left result set:
		Sort ResultSet:
		Number of opens = 1
		Rows input = 10
		Rows returned = 7
		Eliminate duplicates = true
		In sorted order = false
		Sort information: 
			Number of rows input=10
			Number of rows output=7
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Source result set:
			Union ResultSet:
			Number of opens = 1
			Rows seen from the left = 5
			Rows seen from the right = 5
			Rows returned = 10
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
				Number of opens = 1
				Rows seen = 5
				Rows filtered = 0
				Fetch Size = 1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					next time in milliseconds/row = 0
				scan information: 
					Bit set of columns fetched=All
					Number of columns fetched=2
					Number of pages visited=1
					Number of rows qualified=5
					Number of rows visited=5
					Scan type=heap
					start position: 
null					stop position: 
null					qualifiers:
None
			Right result set:
				Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
				Number of opens = 1
				Rows seen = 5
				Rows filtered = 0
				Fetch Size = 1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					next time in milliseconds/row = 0
				scan information: 
					Bit set of columns fetched=All
					Number of columns fetched=2
					Number of pages visited=1
					Number of rows qualified=5
					Number of rows visited=5
					Scan type=heap
					start position: 
null					stop position: 
null					qualifiers:
None
	Right result set:
		Sort ResultSet:
		Number of opens = 7
		Rows input = 2
		Rows returned = 2
		Eliminate duplicates = true
		In sorted order = false
		Sort information: 
			Number of rows input=0
			Number of rows output=0
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Source result set:
			Union ResultSet:
			Number of opens = 7
			Rows seen from the left = 2
			Rows seen from the right = 0
			Rows returned = 2
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Project-Restrict ResultSet (10):
				Number of opens = 7
				Rows seen = 2
				Rows filtered = 0
				restriction = false
				projection = false
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Index Row to Base Row ResultSet for T3:
					Number of opens = 7
					Rows seen = 2
					Columns accessed from heap = {0}
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						Index Scan ResultSet for T3 using index T3_IX2 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 7
						Rows seen = 2
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of deleted rows visited=0
							Number of pages visited=1
							Number of rows qualified=0
							Number of rows visited=1
							Scan type=btree
							Tree height=1
							start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
							stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
							qualifiers:
None
			Right result set:
				Project-Restrict ResultSet (13):
				Number of opens = 7
				Rows seen = 0
				Rows filtered = 0
				restriction = false
				projection = false
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Index Row to Base Row ResultSet for T4:
					Number of opens = 7
					Rows seen = 0
					Columns accessed from heap = {0}
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						Index Scan ResultSet for T4 using index T4_IX2 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 7
						Rows seen = 0
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of deleted rows visited=0
							Number of pages visited=1
							Number of rows qualified=0
							Number of rows visited=1
							Scan type=btree
							Tree height=1
							start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
							stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
							qualifiers:
None
ij> -- Changes for DERBY-805 don't affect non-join predicates (ex. "IN" or one-
-- sided predicates), but make sure things still behave--i.e. these queries
-- should still compile and execute without error, and there should be a
-- qualifier on T1 for the scalar predicate.
select count(*) from V1, V2 where V1.i in (2,4);
1          
-----------
404        
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Changes for DERBY-805 don't affect non-join predicates (ex. "IN" or one-
-- sided predicates), but make sure things still behave--i.e. these queries
-- should still compile and execute without error, and there should be a
-- qualifier on T1 for the scalar predicate.
select count(*) from V1, V2 where V1.i in (2,4)
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (15):
Number of opens = 1
Rows seen = 1
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Scalar Aggregate ResultSet:
	Number of opens = 1
	Rows input = 404
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Index Key Optimization = false
	Source result set:
		Project-Restrict ResultSet (14):
		Number of opens = 1
		Rows seen = 404
		Rows filtered = 0
		restriction = false
		projection = true
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			restriction time (milliseconds) = 0
			projection time (milliseconds) = 0
		Source result set:
			Nested Loop Join ResultSet:
			Number of opens = 1
			Rows seen from the left = 4
			Rows seen from the right = 404
			Rows filtered = 0
			Rows returned = 404
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Project-Restrict ResultSet (9):
				Number of opens = 1
				Rows seen = 4
				Rows filtered = 0
				restriction = true
				projection = true
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Sort ResultSet:
					Number of opens = 1
					Rows input = 4
					Rows returned = 4
					Eliminate duplicates = true
					In sorted order = false
					Sort information: 
						Number of rows input=4
						Number of rows output=4
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Source result set:
						Union ResultSet:
						Number of opens = 1
						Rows seen from the left = 2
						Rows seen from the right = 2
						Rows returned = 4
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Project-Restrict ResultSet (6):
							Number of opens = 1
							Rows seen = 3
							Rows filtered = 1
							restriction = true
							projection = false
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								restriction time (milliseconds) = 0
								projection time (milliseconds) = 0
							Source result set:
								Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
								Number of opens = 1
								Rows seen = 3
								Rows filtered = 0
								Fetch Size = 1
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									next time in milliseconds/row = 0
								scan information: 
									Bit set of columns fetched=All
									Number of columns fetched=2
									Number of pages visited=1
									Number of rows qualified=3
									Number of rows visited=5
									Scan type=heap
									start position: 
null									stop position: 
null									qualifiers:
Column[0][0] Id: 0
Operator: <
Ordered nulls: false
Unknown return value: true
Negate comparison result: true
Column[0][1] Id: 0
Operator: <=
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
						Right result set:
							Project-Restrict ResultSet (8):
							Number of opens = 1
							Rows seen = 3
							Rows filtered = 1
							restriction = true
							projection = false
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								restriction time (milliseconds) = 0
								projection time (milliseconds) = 0
							Source result set:
								Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
								Number of opens = 1
								Rows seen = 3
								Rows filtered = 0
								Fetch Size = 1
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									next time in milliseconds/row = 0
								scan information: 
									Bit set of columns fetched=All
									Number of columns fetched=2
									Number of pages visited=1
									Number of rows qualified=3
									Number of rows visited=5
									Scan type=heap
									start position: 
null									stop position: 
null									qualifiers:
Column[0][0] Id: 0
Operator: <
Ordered nulls: false
Unknown return value: true
Negate comparison result: true
Column[0][1] Id: 0
Operator: <=
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
			Right result set:
				Sort ResultSet:
				Number of opens = 4
				Rows input = 764
				Rows returned = 404
				Eliminate duplicates = true
				In sorted order = false
				Sort information: 
					Number of rows input=191
					Number of rows output=101
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Source result set:
					Union ResultSet:
					Number of opens = 4
					Rows seen from the left = 396
					Rows seen from the right = 368
					Rows returned = 764
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Table Scan ResultSet for T3 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 4
						Rows seen = 396
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=99
							Number of rows visited=99
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
					Right result set:
						Table Scan ResultSet for T4 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 4
						Rows seen = 368
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=92
							Number of rows visited=92
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
ij> select count(*) from V1, V2 where V1.j > 0;
1          
-----------
505        
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	select count(*) from V1, V2 where V1.j > 0
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (13):
Number of opens = 1
Rows seen = 1
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Scalar Aggregate ResultSet:
	Number of opens = 1
	Rows input = 505
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Index Key Optimization = false
	Source result set:
		Project-Restrict ResultSet (12):
		Number of opens = 1
		Rows seen = 505
		Rows filtered = 0
		restriction = false
		projection = true
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			restriction time (milliseconds) = 0
			projection time (milliseconds) = 0
		Source result set:
			Nested Loop Join ResultSet:
			Number of opens = 1
			Rows seen from the left = 5
			Rows seen from the right = 505
			Rows filtered = 0
			Rows returned = 505
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Project-Restrict ResultSet (7):
				Number of opens = 1
				Rows seen = 5
				Rows filtered = 0
				restriction = true
				projection = true
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Sort ResultSet:
					Number of opens = 1
					Rows input = 8
					Rows returned = 5
					Eliminate duplicates = true
					In sorted order = false
					Sort information: 
						Number of rows input=8
						Number of rows output=5
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Source result set:
						Union ResultSet:
						Number of opens = 1
						Rows seen from the left = 5
						Rows seen from the right = 3
						Rows returned = 8
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
							Number of opens = 1
							Rows seen = 5
							Rows filtered = 0
							Fetch Size = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								next time in milliseconds/row = 0
							scan information: 
								Bit set of columns fetched=All
								Number of columns fetched=2
								Number of pages visited=1
								Number of rows qualified=5
								Number of rows visited=5
								Scan type=heap
								start position: 
null								stop position: 
null								qualifiers:
Column[0][0] Id: 1
Operator: <=
Ordered nulls: false
Unknown return value: true
Negate comparison result: true
						Right result set:
							Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
							Number of opens = 1
							Rows seen = 3
							Rows filtered = 0
							Fetch Size = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								next time in milliseconds/row = 0
							scan information: 
								Bit set of columns fetched=All
								Number of columns fetched=2
								Number of pages visited=1
								Number of rows qualified=3
								Number of rows visited=5
								Scan type=heap
								start position: 
null								stop position: 
null								qualifiers:
Column[0][0] Id: 1
Operator: <=
Ordered nulls: false
Unknown return value: true
Negate comparison result: true
			Right result set:
				Sort ResultSet:
				Number of opens = 5
				Rows input = 955
				Rows returned = 505
				Eliminate duplicates = true
				In sorted order = false
				Sort information: 
					Number of rows input=191
					Number of rows output=101
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Source result set:
					Union ResultSet:
					Number of opens = 5
					Rows seen from the left = 495
					Rows seen from the right = 460
					Rows returned = 955
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Table Scan ResultSet for T3 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 5
						Rows seen = 495
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=99
							Number of rows visited=99
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
					Right result set:
						Table Scan ResultSet for T4 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 5
						Rows seen = 460
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=92
							Number of rows visited=92
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
ij> -- Combination of join predicate and non-join predicate: the join predicate
-- should be pushed to V2 (T3 and T4), the non-join predicate should operate
-- as usual.
select * from V1, V2 where V1.j = V2.b and V1.i in (2,4);
I          |J          |A          |B          
-----------------------------------------------
2          |4          |4          |4          
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Combination of join predicate and non-join predicate: the join predicate
-- should be pushed to V2 (T3 and T4), the non-join predicate should operate
-- as usual.
select * from V1, V2 where V1.j = V2.b and V1.i in (2,4)
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 4
Rows seen from the right = 1
Rows filtered = 0
Rows returned = 1
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Project-Restrict ResultSet (8):
	Number of opens = 1
	Rows seen = 4
	Rows filtered = 0
	restriction = true
	projection = true
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
		restriction time (milliseconds) = 0
		projection time (milliseconds) = 0
	Source result set:
		Sort ResultSet:
		Number of opens = 1
		Rows input = 4
		Rows returned = 4
		Eliminate duplicates = true
		In sorted order = false
		Sort information: 
			Number of rows input=4
			Number of rows output=4
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Source result set:
			Union ResultSet:
			Number of opens = 1
			Rows seen from the left = 2
			Rows seen from the right = 2
			Rows returned = 4
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Project-Restrict ResultSet (5):
				Number of opens = 1
				Rows seen = 3
				Rows filtered = 1
				restriction = true
				projection = false
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 1
					Rows seen = 3
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=3
						Number of rows visited=5
						Scan type=heap
						start position: 
null						stop position: 
null						qualifiers:
Column[0][0] Id: 0
Operator: <
Ordered nulls: false
Unknown return value: true
Negate comparison result: true
Column[0][1] Id: 0
Operator: <=
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
			Right result set:
				Project-Restrict ResultSet (7):
				Number of opens = 1
				Rows seen = 3
				Rows filtered = 1
				restriction = true
				projection = false
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 1
					Rows seen = 3
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=3
						Number of rows visited=5
						Scan type=heap
						start position: 
null						stop position: 
null						qualifiers:
Column[0][0] Id: 0
Operator: <
Ordered nulls: false
Unknown return value: true
Negate comparison result: true
Column[0][1] Id: 0
Operator: <=
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
Right result set:
	Sort ResultSet:
	Number of opens = 4
	Rows input = 1
	Rows returned = 1
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=0
		Number of rows output=0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 4
		Rows seen from the left = 1
		Rows seen from the right = 0
		Rows returned = 1
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (13):
			Number of opens = 4
			Rows seen = 1
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T3:
				Number of opens = 4
				Rows seen = 1
				Columns accessed from heap = {0}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T3 using index T3_IX2 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 4
					Rows seen = 1
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (16):
			Number of opens = 4
			Rows seen = 0
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T4:
				Number of opens = 4
				Rows seen = 0
				Columns accessed from heap = {0}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T4 using index T4_IX2 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 4
					Rows seen = 0
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
ij> -- Make sure predicates are pushed even if the subquery is explicit (as
-- opposed to a view). Should see index scans on T3 and T4.
select * from
  (select * from t1 union select * from t2) x1,
  (select * from t3 union select * from t4) x2
where x1.i = x2.a;
I          |J          |A          |B          
-----------------------------------------------
1          |2          |1          |1          
2          |-4         |2          |2          
2          |4          |2          |2          
3          |6          |3          |3          
3          |6          |3          |12         
4          |-8         |4          |4          
4          |-8         |4          |16         
4          |8          |4          |4          
4          |8          |4          |16         
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Make sure predicates are pushed even if the subquery is explicit (as
-- opposed to a view). Should see index scans on T3 and T4.
select * from
  (select * from t1 union select * from t2) x1,
  (select * from t3 union select * from t4) x2
where x1.i = x2.a
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 7
Rows seen from the right = 9
Rows filtered = 0
Rows returned = 9
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 10
	Rows returned = 7
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=10
		Number of rows output=7
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 5
		Rows seen from the right = 5
		Rows returned = 10
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
		Right result set:
			Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
Right result set:
	Sort ResultSet:
	Number of opens = 7
	Rows input = 9
	Rows returned = 9
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=0
		Number of rows output=0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 7
		Rows seen from the left = 6
		Rows seen from the right = 3
		Rows returned = 9
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (10):
			Number of opens = 7
			Rows seen = 6
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T3:
				Number of opens = 7
				Rows seen = 6
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T3 using index T3_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 7
					Rows seen = 6
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (13):
			Number of opens = 7
			Rows seen = 3
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T4:
				Number of opens = 7
				Rows seen = 3
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T4 using index T4_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 7
					Rows seen = 3
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
ij> -- In this case optimizer will consider pushing predicate to X1 but will
-- choose not to because it's cheaper to do a hash join between X1 and T3.
-- So should see regular table scans on T1 and T2 with hash scan on T3.
select * from
  (select * from t1 union select * from t2) x1,
  t3
where x1.i = t3.a;
I          |J          |A          |B          
-----------------------------------------------
1          |2          |1          |1          
2          |-4         |2          |2          
2          |4          |2          |2          
3          |6          |3          |3          
4          |-8         |4          |4          
4          |8          |4          |4          
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- In this case optimizer will consider pushing predicate to X1 but will
-- choose not to because it's cheaper to do a hash join between X1 and T3.
-- So should see regular table scans on T1 and T2 with hash scan on T3.
select * from
  (select * from t1 union select * from t2) x1,
  t3
where x1.i = t3.a
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Hash Join ResultSet:
Number of opens = 1
Rows seen from the left = 7
Rows seen from the right = 6
Rows filtered = 0
Rows returned = 6
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 10
	Rows returned = 7
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=10
		Number of rows output=7
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 5
		Rows seen from the right = 5
		Rows returned = 10
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
		Right result set:
			Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
Right result set:
	Hash Scan ResultSet for T3 at read committed isolation level using instantaneous share row locking: 
	Number of opens = 7
	Hash table size = 99
	Hash key is column number 0
	Rows seen = 6
	Rows filtered = 0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
		next time in milliseconds/row = 0
	scan information: 
		Bit set of columns fetched=All
		Number of columns fetched=2
		Number of pages visited=1
		Number of rows qualified=99
		Number of rows visited=99
		Scan type=heap
		start position: 
null		stop position: 
null		scan qualifiers:
None
		next qualifiers:
Column[0][0] Id: 0
Operator: =
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
ij> -- UNION ALL should behave just like normal UNION.  I.e. predicates should
-- still be pushed to T3 and T4.
select * from
  (select * from t1 union all select * from t2) x1,
  (select * from t3 union select * from t4) x2
where x1.i = x2.a;
I          |J          |A          |B          
-----------------------------------------------
1          |2          |1          |1          
2          |4          |2          |2          
3          |6          |3          |3          
3          |6          |3          |12         
4          |8          |4          |4          
4          |8          |4          |16         
1          |2          |1          |1          
2          |-4         |2          |2          
3          |6          |3          |3          
3          |6          |3          |12         
4          |-8         |4          |4          
4          |-8         |4          |16         
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- UNION ALL should behave just like normal UNION.  I.e. predicates should
-- still be pushed to T3 and T4.
select * from
  (select * from t1 union all select * from t2) x1,
  (select * from t3 union select * from t4) x2
where x1.i = x2.a
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 10
Rows seen from the right = 12
Rows filtered = 0
Rows returned = 12
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Union ResultSet:
	Number of opens = 1
	Rows seen from the left = 5
	Rows seen from the right = 5
	Rows returned = 10
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Left result set:
		Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
		Number of opens = 1
		Rows seen = 5
		Rows filtered = 0
		Fetch Size = 1
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			next time in milliseconds/row = 0
		scan information: 
			Bit set of columns fetched=All
			Number of columns fetched=2
			Number of pages visited=1
			Number of rows qualified=5
			Number of rows visited=5
			Scan type=heap
			start position: 
null			stop position: 
null			qualifiers:
None
	Right result set:
		Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
		Number of opens = 1
		Rows seen = 5
		Rows filtered = 0
		Fetch Size = 1
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			next time in milliseconds/row = 0
		scan information: 
			Bit set of columns fetched=All
			Number of columns fetched=2
			Number of pages visited=1
			Number of rows qualified=5
			Number of rows visited=5
			Scan type=heap
			start position: 
null			stop position: 
null			qualifiers:
None
Right result set:
	Sort ResultSet:
	Number of opens = 10
	Rows input = 12
	Rows returned = 12
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=0
		Number of rows output=0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 10
		Rows seen from the left = 8
		Rows seen from the right = 4
		Rows returned = 12
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (9):
			Number of opens = 10
			Rows seen = 8
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T3:
				Number of opens = 10
				Rows seen = 8
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T3 using index T3_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 10
					Rows seen = 8
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (12):
			Number of opens = 10
			Rows seen = 4
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T4:
				Number of opens = 10
				Rows seen = 4
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T4 using index T4_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 10
					Rows seen = 4
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
ij> select * from
  (select * from t1 union all select * from t2) x1,
  (select * from t3 union all select * from t4) x2
where x1.i = x2.a;
I          |J          |A          |B          
-----------------------------------------------
1          |2          |1          |1          
2          |4          |2          |2          
3          |6          |3          |3          
3          |6          |3          |12         
4          |8          |4          |4          
4          |8          |4          |16         
1          |2          |1          |1          
2          |-4         |2          |2          
3          |6          |3          |3          
3          |6          |3          |12         
4          |-8         |4          |4          
4          |-8         |4          |16         
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	select * from
  (select * from t1 union all select * from t2) x1,
  (select * from t3 union all select * from t4) x2
where x1.i = x2.a
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 10
Rows seen from the right = 12
Rows filtered = 0
Rows returned = 12
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Union ResultSet:
	Number of opens = 1
	Rows seen from the left = 5
	Rows seen from the right = 5
	Rows returned = 10
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Left result set:
		Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
		Number of opens = 1
		Rows seen = 5
		Rows filtered = 0
		Fetch Size = 1
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			next time in milliseconds/row = 0
		scan information: 
			Bit set of columns fetched=All
			Number of columns fetched=2
			Number of pages visited=1
			Number of rows qualified=5
			Number of rows visited=5
			Scan type=heap
			start position: 
null			stop position: 
null			qualifiers:
None
	Right result set:
		Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
		Number of opens = 1
		Rows seen = 5
		Rows filtered = 0
		Fetch Size = 1
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			next time in milliseconds/row = 0
		scan information: 
			Bit set of columns fetched=All
			Number of columns fetched=2
			Number of pages visited=1
			Number of rows qualified=5
			Number of rows visited=5
			Scan type=heap
			start position: 
null			stop position: 
null			qualifiers:
None
Right result set:
	Union ResultSet:
	Number of opens = 10
	Rows seen from the left = 8
	Rows seen from the right = 4
	Rows returned = 12
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Left result set:
		Project-Restrict ResultSet (8):
		Number of opens = 10
		Rows seen = 8
		Rows filtered = 0
		restriction = false
		projection = false
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			restriction time (milliseconds) = 0
			projection time (milliseconds) = 0
		Source result set:
			Index Row to Base Row ResultSet for T3:
			Number of opens = 10
			Rows seen = 8
			Columns accessed from heap = {1}
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				Index Scan ResultSet for T3 using index T3_IX1 at read committed isolation level using share row locking chosen by the optimizer
				Number of opens = 10
				Rows seen = 8
				Rows filtered = 0
				Fetch Size = 1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					next time in milliseconds/row = 0
				scan information: 
					Bit set of columns fetched=All
					Number of columns fetched=2
					Number of deleted rows visited=0
					Number of pages visited=1
					Number of rows qualified=0
					Number of rows visited=1
					Scan type=btree
					Tree height=1
					start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
					stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
					qualifiers:
None
	Right result set:
		Project-Restrict ResultSet (11):
		Number of opens = 10
		Rows seen = 4
		Rows filtered = 0
		restriction = false
		projection = false
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			restriction time (milliseconds) = 0
			projection time (milliseconds) = 0
		Source result set:
			Index Row to Base Row ResultSet for T4:
			Number of opens = 10
			Rows seen = 4
			Columns accessed from heap = {1}
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				Index Scan ResultSet for T4 using index T4_IX1 at read committed isolation level using share row locking chosen by the optimizer
				Number of opens = 10
				Rows seen = 4
				Rows filtered = 0
				Fetch Size = 1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					next time in milliseconds/row = 0
				scan information: 
					Bit set of columns fetched=All
					Number of columns fetched=2
					Number of deleted rows visited=0
					Number of pages visited=1
					Number of rows qualified=0
					Number of rows visited=1
					Scan type=btree
					Tree height=1
					start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
					stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
					qualifiers:
None
ij> -- Predicate with both sides referencing same UNION isn't a join predicate, so
-- no pushing should happen.  So should see regular table scans on all tables.
select * from v1, v2 where V1.i = V1.j;
I          |J          |A          |B          
-----------------------------------------------
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Predicate with both sides referencing same UNION isn't a join predicate, so
-- no pushing should happen.  So should see regular table scans on all tables.
select * from v1, v2 where V1.i = V1.j
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 0
Rows seen from the right = 0
Rows filtered = 0
Rows returned = 0
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 0
	Rows returned = 0
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=0
		Number of rows output=0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 0
		Rows seen from the right = 0
		Rows returned = 0
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (6):
			Number of opens = 1
			Rows seen = 0
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Project-Restrict ResultSet (5):
				Number of opens = 1
				Rows seen = 5
				Rows filtered = 5
				restriction = true
				projection = false
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 1
					Rows seen = 5
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=5
						Number of rows visited=5
						Scan type=heap
						start position: 
null						stop position: 
null						qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (9):
			Number of opens = 1
			Rows seen = 0
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Project-Restrict ResultSet (8):
				Number of opens = 1
				Rows seen = 5
				Rows filtered = 5
				restriction = true
				projection = false
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 1
					Rows seen = 5
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=5
						Number of rows visited=5
						Scan type=heap
						start position: 
null						stop position: 
null						qualifiers:
None
Right result set:
	Sort ResultSet:
	Number of opens = 0
	Rows input = 0
	Rows returned = 0
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 0
		Rows seen from the left = 0
		Rows seen from the right = 0
		Rows returned = 0
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Table Scan ResultSet for T3 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 0
			Rows seen = 0
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			scan information: 
				start position: 
null				stop position: 
null				qualifiers:
None
		Right result set:
			Table Scan ResultSet for T4 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 0
			Rows seen = 0
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			scan information: 
				start position: 
null				stop position: 
null				qualifiers:
None
ij> -- Pushing predicates should still work even if user specifies explicit
-- column names.  In 1st and 2nd queries we push to X2 (T3 and T4); in 3rd
-- query we push to X1 (T1 and T3).
select * from
  (select * from t1 union select * from t2) x1 (c, d),
  (select * from t3 union select * from t4) x2 (e, f)
where x1.c = x2.e;
C          |D          |E          |F          
-----------------------------------------------
1          |2          |1          |1          
2          |-4         |2          |2          
2          |4          |2          |2          
3          |6          |3          |3          
3          |6          |3          |12         
4          |-8         |4          |4          
4          |-8         |4          |16         
4          |8          |4          |4          
4          |8          |4          |16         
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Pushing predicates should still work even if user specifies explicit
-- column names.  In 1st and 2nd queries we push to X2 (T3 and T4); in 3rd
-- query we push to X1 (T1 and T3).
select * from
  (select * from t1 union select * from t2) x1 (c, d),
  (select * from t3 union select * from t4) x2 (e, f)
where x1.c = x2.e
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 7
Rows seen from the right = 9
Rows filtered = 0
Rows returned = 9
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 10
	Rows returned = 7
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=10
		Number of rows output=7
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 5
		Rows seen from the right = 5
		Rows returned = 10
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
		Right result set:
			Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
Right result set:
	Sort ResultSet:
	Number of opens = 7
	Rows input = 9
	Rows returned = 9
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=0
		Number of rows output=0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 7
		Rows seen from the left = 6
		Rows seen from the right = 3
		Rows returned = 9
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (10):
			Number of opens = 7
			Rows seen = 6
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T3:
				Number of opens = 7
				Rows seen = 6
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T3 using index T3_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 7
					Rows seen = 6
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (13):
			Number of opens = 7
			Rows seen = 3
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T4:
				Number of opens = 7
				Rows seen = 3
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T4 using index T4_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 7
					Rows seen = 3
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
ij> select * from
  (select * from t1 union select * from t2) x1 (a, b),
  (select * from t3 union select * from t4) x2 (i, j)
where x1.a = x2.i;
A          |B          |I          |J          
-----------------------------------------------
1          |2          |1          |1          
2          |-4         |2          |2          
2          |4          |2          |2          
3          |6          |3          |3          
3          |6          |3          |12         
4          |-8         |4          |4          
4          |-8         |4          |16         
4          |8          |4          |4          
4          |8          |4          |16         
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	select * from
  (select * from t1 union select * from t2) x1 (a, b),
  (select * from t3 union select * from t4) x2 (i, j)
where x1.a = x2.i
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 7
Rows seen from the right = 9
Rows filtered = 0
Rows returned = 9
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 10
	Rows returned = 7
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=10
		Number of rows output=7
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 5
		Rows seen from the right = 5
		Rows returned = 10
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
		Right result set:
			Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
Right result set:
	Sort ResultSet:
	Number of opens = 7
	Rows input = 9
	Rows returned = 9
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=0
		Number of rows output=0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 7
		Rows seen from the left = 6
		Rows seen from the right = 3
		Rows returned = 9
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (10):
			Number of opens = 7
			Rows seen = 6
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T3:
				Number of opens = 7
				Rows seen = 6
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T3 using index T3_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 7
					Rows seen = 6
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (13):
			Number of opens = 7
			Rows seen = 3
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T4:
				Number of opens = 7
				Rows seen = 3
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T4 using index T4_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 7
					Rows seen = 3
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
ij> select count(*) from
  (select * from t1 union select * from t3) x1 (c, d),
  (select * from t2 union select * from t4) x2 (e, f)
where x1.c = x2.e;
1          
-----------
103        
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	select count(*) from
  (select * from t1 union select * from t3) x1 (c, d),
  (select * from t2 union select * from t4) x2 (e, f)
where x1.c = x2.e
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (15):
Number of opens = 1
Rows seen = 1
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Scalar Aggregate ResultSet:
	Number of opens = 1
	Rows input = 103
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Index Key Optimization = false
	Source result set:
		Project-Restrict ResultSet (14):
		Number of opens = 1
		Rows seen = 103
		Rows filtered = 0
		restriction = false
		projection = true
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			restriction time (milliseconds) = 0
			projection time (milliseconds) = 0
		Source result set:
			Nested Loop Join ResultSet:
			Number of opens = 1
			Rows seen from the left = 97
			Rows seen from the right = 103
			Rows filtered = 0
			Rows returned = 103
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Sort ResultSet:
				Number of opens = 1
				Rows input = 97
				Rows returned = 97
				Eliminate duplicates = true
				In sorted order = false
				Sort information: 
					Number of rows input=97
					Number of rows output=97
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Source result set:
					Union ResultSet:
					Number of opens = 1
					Rows seen from the left = 5
					Rows seen from the right = 92
					Rows returned = 97
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 1
						Rows seen = 5
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=5
							Number of rows visited=5
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
					Right result set:
						Table Scan ResultSet for T4 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 1
						Rows seen = 92
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=92
							Number of rows visited=92
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
			Right result set:
				Sort ResultSet:
				Number of opens = 97
				Rows input = 103
				Rows returned = 103
				Eliminate duplicates = true
				In sorted order = false
				Sort information: 
					Number of rows input=1
					Number of rows output=1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Source result set:
					Union ResultSet:
					Number of opens = 97
					Rows seen from the left = 7
					Rows seen from the right = 96
					Rows returned = 103
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Project-Restrict ResultSet (10):
						Number of opens = 97
						Rows seen = 7
						Rows filtered = 0
						restriction = false
						projection = false
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							restriction time (milliseconds) = 0
							projection time (milliseconds) = 0
						Source result set:
							Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
							Number of opens = 97
							Rows seen = 7
							Rows filtered = 0
							Fetch Size = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								next time in milliseconds/row = 0
							scan information: 
								Bit set of columns fetched=All
								Number of columns fetched=2
								Number of pages visited=1
								Number of rows qualified=0
								Number of rows visited=5
								Scan type=heap
								start position: 
null								stop position: 
null								qualifiers:
Column[0][0] Id: 0
Operator: =
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
					Right result set:
						Project-Restrict ResultSet (13):
						Number of opens = 97
						Rows seen = 96
						Rows filtered = 0
						restriction = false
						projection = false
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							restriction time (milliseconds) = 0
							projection time (milliseconds) = 0
						Source result set:
							Index Row to Base Row ResultSet for T3:
							Number of opens = 97
							Rows seen = 96
							Columns accessed from heap = {1}
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								Index Scan ResultSet for T3 using index T3_IX1 at read committed isolation level using share row locking chosen by the optimizer
								Number of opens = 97
								Rows seen = 96
								Rows filtered = 0
								Fetch Size = 1
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									next time in milliseconds/row = 0
								scan information: 
									Bit set of columns fetched=All
									Number of columns fetched=2
									Number of deleted rows visited=0
									Number of pages visited=1
									Number of rows qualified=1
									Number of rows visited=1
									Scan type=btree
									Tree height=1
									start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
									stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
									qualifiers:
None
ij> -- If we have nested unions, the predicate should get pushed all the way down
-- to the base table(s) for every level of nesting.  Should see index scans for
-- T3 and for _both_ instances of T4.
select * from
  (select * from t1 union
    select * from t2 union
      select * from t1 union
        select * from t2
  ) x1,
  (select * from t3 union
    select * from t4 union
      select * from t4
  ) x2
where x1.i = x2.a;
I          |J          |A          |B          
-----------------------------------------------
1          |2          |1          |1          
2          |-4         |2          |2          
2          |4          |2          |2          
3          |6          |3          |3          
3          |6          |3          |12         
4          |-8         |4          |4          
4          |-8         |4          |16         
4          |8          |4          |4          
4          |8          |4          |16         
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- If we have nested unions, the predicate should get pushed all the way down
-- to the base table(s) for every level of nesting.  Should see index scans for
-- T3 and for _both_ instances of T4.
select * from
  (select * from t1 union
    select * from t2 union
      select * from t1 union
        select * from t2
  ) x1,
  (select * from t3 union
    select * from t4 union
      select * from t4
  ) x2
where x1.i = x2.a
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 7
Rows seen from the right = 9
Rows filtered = 0
Rows returned = 9
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 20
	Rows returned = 7
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=20
		Number of rows output=7
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 15
		Rows seen from the right = 5
		Rows returned = 20
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Union ResultSet:
			Number of opens = 1
			Rows seen from the left = 10
			Rows seen from the right = 5
			Rows returned = 15
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Union ResultSet:
				Number of opens = 1
				Rows seen from the left = 5
				Rows seen from the right = 5
				Rows returned = 10
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 1
					Rows seen = 5
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=5
						Number of rows visited=5
						Scan type=heap
						start position: 
null						stop position: 
null						qualifiers:
None
				Right result set:
					Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 1
					Rows seen = 5
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=5
						Number of rows visited=5
						Scan type=heap
						start position: 
null						stop position: 
null						qualifiers:
None
			Right result set:
				Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
				Number of opens = 1
				Rows seen = 5
				Rows filtered = 0
				Fetch Size = 1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					next time in milliseconds/row = 0
				scan information: 
					Bit set of columns fetched=All
					Number of columns fetched=2
					Number of pages visited=1
					Number of rows qualified=5
					Number of rows visited=5
					Scan type=heap
					start position: 
null					stop position: 
null					qualifiers:
None
		Right result set:
			Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
Right result set:
	Sort ResultSet:
	Number of opens = 7
	Rows input = 12
	Rows returned = 9
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=0
		Number of rows output=0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 7
		Rows seen from the left = 9
		Rows seen from the right = 3
		Rows returned = 12
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Union ResultSet:
			Number of opens = 7
			Rows seen from the left = 6
			Rows seen from the right = 3
			Rows returned = 9
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Project-Restrict ResultSet (15):
				Number of opens = 7
				Rows seen = 6
				Rows filtered = 0
				restriction = false
				projection = false
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Index Row to Base Row ResultSet for T3:
					Number of opens = 7
					Rows seen = 6
					Columns accessed from heap = {1}
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						Index Scan ResultSet for T3 using index T3_IX1 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 7
						Rows seen = 6
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of deleted rows visited=0
							Number of pages visited=1
							Number of rows qualified=0
							Number of rows visited=1
							Scan type=btree
							Tree height=1
							start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
							stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
							qualifiers:
None
			Right result set:
				Project-Restrict ResultSet (18):
				Number of opens = 7
				Rows seen = 3
				Rows filtered = 0
				restriction = false
				projection = false
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Index Row to Base Row ResultSet for T4:
					Number of opens = 7
					Rows seen = 3
					Columns accessed from heap = {1}
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						Index Scan ResultSet for T4 using index T4_IX1 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 7
						Rows seen = 3
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of deleted rows visited=0
							Number of pages visited=1
							Number of rows qualified=0
							Number of rows visited=1
							Scan type=btree
							Tree height=1
							start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
							stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
							qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (21):
			Number of opens = 7
			Rows seen = 3
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T4:
				Number of opens = 7
				Rows seen = 3
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T4 using index T4_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 7
					Rows seen = 3
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
ij> -- Nested unions with non-join predicates should work as usual (no change
-- with DERBY-805).  So should see scalar qualifiers on scans for all
-- instances of T1 and T2.
select * from
  (select * from t1
    union select * from t2
      union select * from t1
        union select * from t2
  ) x1
where x1.i > 0;
I          |J          
-----------------------
1          |2          
2          |-4         
2          |4          
3          |6          
4          |-8         
4          |8          
5          |10         
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Nested unions with non-join predicates should work as usual (no change
-- with DERBY-805).  So should see scalar qualifiers on scans for all
-- instances of T1 and T2.
select * from
  (select * from t1
    union select * from t2
      union select * from t1
        union select * from t2
  ) x1
where x1.i > 0
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (9):
Number of opens = 1
Rows seen = 7
Rows filtered = 0
restriction = true
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 20
	Rows returned = 7
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=20
		Number of rows output=7
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 15
		Rows seen from the right = 5
		Rows returned = 20
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Union ResultSet:
			Number of opens = 1
			Rows seen from the left = 10
			Rows seen from the right = 5
			Rows returned = 15
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Union ResultSet:
				Number of opens = 1
				Rows seen from the left = 5
				Rows seen from the right = 5
				Rows returned = 10
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 1
					Rows seen = 5
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=5
						Number of rows visited=5
						Scan type=heap
						start position: 
null						stop position: 
null						qualifiers:
Column[0][0] Id: 0
Operator: <=
Ordered nulls: false
Unknown return value: true
Negate comparison result: true
				Right result set:
					Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 1
					Rows seen = 5
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=5
						Number of rows visited=5
						Scan type=heap
						start position: 
null						stop position: 
null						qualifiers:
Column[0][0] Id: 0
Operator: <=
Ordered nulls: false
Unknown return value: true
Negate comparison result: true
			Right result set:
				Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
				Number of opens = 1
				Rows seen = 5
				Rows filtered = 0
				Fetch Size = 1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					next time in milliseconds/row = 0
				scan information: 
					Bit set of columns fetched=All
					Number of columns fetched=2
					Number of pages visited=1
					Number of rows qualified=5
					Number of rows visited=5
					Scan type=heap
					start position: 
null					stop position: 
null					qualifiers:
Column[0][0] Id: 0
Operator: <=
Ordered nulls: false
Unknown return value: true
Negate comparison result: true
		Right result set:
			Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
Column[0][0] Id: 0
Operator: <=
Ordered nulls: false
Unknown return value: true
Negate comparison result: true
ij> -- In this case there are no qualifiers, but the restriction is enforced
-- at the ProjectRestrictNode level.  That hasn't changed with DERBY-805.
select count(*) from
  (select * from t1
    union select * from t2
      union select * from t3
        union select * from t4
  ) x1 (i, b)
where x1.i > 0;
1          
-----------
108        
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- In this case there are no qualifiers, but the restriction is enforced
-- at the ProjectRestrictNode level.  That hasn't changed with DERBY-805.
select count(*) from
  (select * from t1
    union select * from t2
      union select * from t3
        union select * from t4
  ) x1 (i, b)
where x1.i > 0
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (12):
Number of opens = 1
Rows seen = 1
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Scalar Aggregate ResultSet:
	Number of opens = 1
	Rows input = 108
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Index Key Optimization = false
	Source result set:
		Project-Restrict ResultSet (11):
		Number of opens = 1
		Rows seen = 108
		Rows filtered = 0
		restriction = false
		projection = true
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			restriction time (milliseconds) = 0
			projection time (milliseconds) = 0
		Source result set:
			Project-Restrict ResultSet (10):
			Number of opens = 1
			Rows seen = 108
			Rows filtered = 0
			restriction = true
			projection = true
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Sort ResultSet:
				Number of opens = 1
				Rows input = 201
				Rows returned = 108
				Eliminate duplicates = true
				In sorted order = false
				Sort information: 
					Number of rows input=201
					Number of rows output=108
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Source result set:
					Union ResultSet:
					Number of opens = 1
					Rows seen from the left = 109
					Rows seen from the right = 92
					Rows returned = 201
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Union ResultSet:
						Number of opens = 1
						Rows seen from the left = 10
						Rows seen from the right = 99
						Rows returned = 109
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Union ResultSet:
							Number of opens = 1
							Rows seen from the left = 5
							Rows seen from the right = 5
							Rows returned = 10
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
							Left result set:
								Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
								Number of opens = 1
								Rows seen = 5
								Rows filtered = 0
								Fetch Size = 1
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									next time in milliseconds/row = 0
								scan information: 
									Bit set of columns fetched=All
									Number of columns fetched=2
									Number of pages visited=1
									Number of rows qualified=5
									Number of rows visited=5
									Scan type=heap
									start position: 
null									stop position: 
null									qualifiers:
None
							Right result set:
								Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
								Number of opens = 1
								Rows seen = 5
								Rows filtered = 0
								Fetch Size = 1
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									next time in milliseconds/row = 0
								scan information: 
									Bit set of columns fetched=All
									Number of columns fetched=2
									Number of pages visited=1
									Number of rows qualified=5
									Number of rows visited=5
									Scan type=heap
									start position: 
null									stop position: 
null									qualifiers:
None
						Right result set:
							Table Scan ResultSet for T3 at read committed isolation level using share row locking chosen by the optimizer
							Number of opens = 1
							Rows seen = 99
							Rows filtered = 0
							Fetch Size = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								next time in milliseconds/row = 0
							scan information: 
								Bit set of columns fetched=All
								Number of columns fetched=2
								Number of pages visited=1
								Number of rows qualified=99
								Number of rows visited=99
								Scan type=heap
								start position: 
null								stop position: 
null								qualifiers:
None
					Right result set:
						Table Scan ResultSet for T4 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 1
						Rows seen = 92
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=92
							Number of rows visited=92
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
ij> -- Predicate pushdown should work with explicit use of "inner join" just like
-- it does for implicit join.  So should see index scans on T3 and T4.
select * from
  (select * from t1 union select * from t2) x1 inner join
  (select * from t3 union select * from t4) x2
on x1.j = x2.b;
I          |J          |A          |B          
-----------------------------------------------
1          |2          |2          |2          
2          |4          |4          |4          
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Predicate pushdown should work with explicit use of "inner join" just like
-- it does for implicit join.  So should see index scans on T3 and T4.
select * from
  (select * from t1 union select * from t2) x1 inner join
  (select * from t3 union select * from t4) x2
on x1.j = x2.b
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 7
Rows seen from the right = 2
Rows filtered = 0
Rows returned = 2
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 10
	Rows returned = 7
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=10
		Number of rows output=7
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 5
		Rows seen from the right = 5
		Rows returned = 10
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
		Right result set:
			Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
Right result set:
	Sort ResultSet:
	Number of opens = 7
	Rows input = 2
	Rows returned = 2
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=0
		Number of rows output=0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 7
		Rows seen from the left = 2
		Rows seen from the right = 0
		Rows returned = 2
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (10):
			Number of opens = 7
			Rows seen = 2
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T3:
				Number of opens = 7
				Rows seen = 2
				Columns accessed from heap = {0}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T3 using index T3_IX2 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 7
					Rows seen = 2
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (13):
			Number of opens = 7
			Rows seen = 0
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T4:
				Number of opens = 7
				Rows seen = 0
				Columns accessed from heap = {0}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T4 using index T4_IX2 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 7
					Rows seen = 0
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
ij> -- Can't push predicates into VALUES clauses.  Predicate should end up
-- at V2 (T3 and T4).
select * from (
  select i,j from t2 union
    values (1,1),(2,2),(3,3),(4,4)
      union select i,j from t1
  ) x0 (i,j),
  v2
where x0.i = v2.a;
I          |J          |A          |B          
-----------------------------------------------
1          |1          |1          |1          
1          |2          |1          |1          
2          |-4         |2          |2          
2          |2          |2          |2          
2          |4          |2          |2          
3          |3          |3          |3          
3          |3          |3          |12         
3          |6          |3          |3          
3          |6          |3          |12         
4          |-8         |4          |4          
4          |-8         |4          |16         
4          |4          |4          |4          
4          |4          |4          |16         
4          |8          |4          |4          
4          |8          |4          |16         
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Can't push predicates into VALUES clauses.  Predicate should end up
-- at V2 (T3 and T4).
select * from (
  select i,j from t2 union
    values (1,1),(2,2),(3,3),(4,4)
      union select i,j from t1
  ) x0 (i,j),
  v2
where x0.i = v2.a
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 11
Rows seen from the right = 15
Rows filtered = 0
Rows returned = 15
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 14
	Rows returned = 11
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=14
		Number of rows output=11
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 9
		Rows seen from the right = 5
		Rows returned = 14
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Union ResultSet:
			Number of opens = 1
			Rows seen from the left = 5
			Rows seen from the right = 4
			Rows returned = 9
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
				Number of opens = 1
				Rows seen = 5
				Rows filtered = 0
				Fetch Size = 1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					next time in milliseconds/row = 0
				scan information: 
					Bit set of columns fetched=All
					Number of columns fetched=2
					Number of pages visited=1
					Number of rows qualified=5
					Number of rows visited=5
					Scan type=heap
					start position: 
null					stop position: 
null					qualifiers:
None
			Right result set:
				Union ResultSet:
				Number of opens = 1
				Rows seen from the left = 3
				Rows seen from the right = 1
				Rows returned = 4
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Union ResultSet:
					Number of opens = 1
					Rows seen from the left = 2
					Rows seen from the right = 1
					Rows returned = 3
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Union ResultSet:
						Number of opens = 1
						Rows seen from the left = 1
						Rows seen from the right = 1
						Rows returned = 2
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Row ResultSet:
							Number of opens = 1
							Rows returned = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
						Right result set:
							Row ResultSet:
							Number of opens = 1
							Rows returned = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
					Right result set:
						Row ResultSet:
						Number of opens = 1
						Rows returned = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
				Right result set:
					Row ResultSet:
					Number of opens = 1
					Rows returned = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
		Right result set:
			Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
Right result set:
	Sort ResultSet:
	Number of opens = 11
	Rows input = 15
	Rows returned = 15
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=0
		Number of rows output=0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 11
		Rows seen from the left = 10
		Rows seen from the right = 5
		Rows returned = 15
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (18):
			Number of opens = 11
			Rows seen = 10
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T3:
				Number of opens = 11
				Rows seen = 10
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T3 using index T3_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 11
					Rows seen = 10
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (21):
			Number of opens = 11
			Rows seen = 5
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T4:
				Number of opens = 11
				Rows seen = 5
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T4 using index T4_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 11
					Rows seen = 5
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
ij> -- Can't push predicates into VALUES clauses.  Optimizer might consider pushing
-- but shouldn't do it; in the end we'll do a hash join between X1 and T2.
select * from
  t2,
  (select * from t1 union values (3,3), (4,4), (5,5), (6,6)) X1 (a,b)
where X1.a = t2.i;
I          |J          |A          |B          
-----------------------------------------------
1          |2          |1          |2          
2          |-4         |2          |4          
3          |6          |3          |3          
3          |6          |3          |6          
4          |-8         |4          |4          
4          |-8         |4          |8          
5          |10         |5          |5          
5          |10         |5          |10         
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Can't push predicates into VALUES clauses.  Optimizer might consider pushing
-- but shouldn't do it; in the end we'll do a hash join between X1 and T2.
select * from
  t2,
  (select * from t1 union values (3,3), (4,4), (5,5), (6,6)) X1 (a,b)
where X1.a = t2.i
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (13):
Number of opens = 1
Rows seen = 8
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Hash Join ResultSet:
	Number of opens = 1
	Rows seen from the left = 9
	Rows seen from the right = 8
	Rows filtered = 0
	Rows returned = 8
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Left result set:
		Sort ResultSet:
		Number of opens = 1
		Rows input = 9
		Rows returned = 9
		Eliminate duplicates = true
		In sorted order = false
		Sort information: 
			Number of rows input=9
			Number of rows output=9
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Source result set:
			Union ResultSet:
			Number of opens = 1
			Rows seen from the left = 5
			Rows seen from the right = 4
			Rows returned = 9
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
				Number of opens = 1
				Rows seen = 5
				Rows filtered = 0
				Fetch Size = 1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					next time in milliseconds/row = 0
				scan information: 
					Bit set of columns fetched=All
					Number of columns fetched=2
					Number of pages visited=1
					Number of rows qualified=5
					Number of rows visited=5
					Scan type=heap
					start position: 
null					stop position: 
null					qualifiers:
None
			Right result set:
				Union ResultSet:
				Number of opens = 1
				Rows seen from the left = 3
				Rows seen from the right = 1
				Rows returned = 4
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Union ResultSet:
					Number of opens = 1
					Rows seen from the left = 2
					Rows seen from the right = 1
					Rows returned = 3
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Union ResultSet:
						Number of opens = 1
						Rows seen from the left = 1
						Rows seen from the right = 1
						Rows returned = 2
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Row ResultSet:
							Number of opens = 1
							Rows returned = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
						Right result set:
							Row ResultSet:
							Number of opens = 1
							Rows returned = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
					Right result set:
						Row ResultSet:
						Number of opens = 1
						Rows returned = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
				Right result set:
					Row ResultSet:
					Number of opens = 1
					Rows returned = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
	Right result set:
		Hash Scan ResultSet for T2 at read committed isolation level using instantaneous share row locking: 
		Number of opens = 9
		Hash table size = 5
		Hash key is column number 0
		Rows seen = 8
		Rows filtered = 0
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			next time in milliseconds/row = 0
		scan information: 
			Bit set of columns fetched=All
			Number of columns fetched=2
			Number of pages visited=1
			Number of rows qualified=5
			Number of rows visited=5
			Scan type=heap
			start position: 
null			stop position: 
null			scan qualifiers:
None
			next qualifiers:
Column[0][0] Id: 0
Operator: =
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
ij> -- Can't push predicates into VALUES clause.  We'll try to push it to X0, but
-- it will only make it to T4; it won't make it to T3 because the "other side"
-- of the union with T3 is a VALUES clause.  So we'll see an index scan on T4
-- and table scan on T3--but the predicate should still be applied to T3 at a
-- higher level (through a ProjectRestrictNode), so we shouldn't get any extra
-- rows.
select * from
  (select i,j from t2 union
    values (1,1),(2,2),(3,3),(4,4) union
      select i,j from t1
  ) x0 (i,j),
  (select a, b from t3 union
    values (4, 5), (5, 6), (6, 7) union
      select a, b from t4
  ) x1 (a,b)
where x0.i = x1.a;
I          |J          |A          |B          
-----------------------------------------------
1          |1          |1          |1          
1          |2          |1          |1          
2          |-4         |2          |2          
2          |2          |2          |2          
2          |4          |2          |2          
3          |3          |3          |3          
3          |3          |3          |12         
3          |6          |3          |3          
3          |6          |3          |12         
4          |-8         |4          |4          
4          |-8         |4          |5          
4          |-8         |4          |16         
4          |4          |4          |4          
4          |4          |4          |5          
4          |4          |4          |16         
4          |8          |4          |4          
4          |8          |4          |5          
4          |8          |4          |16         
5          |10         |5          |6          
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Can't push predicates into VALUES clause.  We'll try to push it to X0, but
-- it will only make it to T4; it won't make it to T3 because the "other side"
-- of the union with T3 is a VALUES clause.  So we'll see an index scan on T4
-- and table scan on T3--but the predicate should still be applied to T3 at a
-- higher level (through a ProjectRestrictNode), so we shouldn't get any extra
-- rows.
select * from
  (select i,j from t2 union
    values (1,1),(2,2),(3,3),(4,4) union
      select i,j from t1
  ) x0 (i,j),
  (select a, b from t3 union
    values (4, 5), (5, 6), (6, 7) union
      select a, b from t4
  ) x1 (a,b)
where x0.i = x1.a
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 11
Rows seen from the right = 19
Rows filtered = 0
Rows returned = 19
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 14
	Rows returned = 11
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=14
		Number of rows output=11
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 9
		Rows seen from the right = 5
		Rows returned = 14
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Union ResultSet:
			Number of opens = 1
			Rows seen from the left = 5
			Rows seen from the right = 4
			Rows returned = 9
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
				Number of opens = 1
				Rows seen = 5
				Rows filtered = 0
				Fetch Size = 1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					next time in milliseconds/row = 0
				scan information: 
					Bit set of columns fetched=All
					Number of columns fetched=2
					Number of pages visited=1
					Number of rows qualified=5
					Number of rows visited=5
					Scan type=heap
					start position: 
null					stop position: 
null					qualifiers:
None
			Right result set:
				Union ResultSet:
				Number of opens = 1
				Rows seen from the left = 3
				Rows seen from the right = 1
				Rows returned = 4
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Union ResultSet:
					Number of opens = 1
					Rows seen from the left = 2
					Rows seen from the right = 1
					Rows returned = 3
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Union ResultSet:
						Number of opens = 1
						Rows seen from the left = 1
						Rows seen from the right = 1
						Rows returned = 2
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Row ResultSet:
							Number of opens = 1
							Rows returned = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
						Right result set:
							Row ResultSet:
							Number of opens = 1
							Rows returned = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
					Right result set:
						Row ResultSet:
						Number of opens = 1
						Rows returned = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
				Right result set:
					Row ResultSet:
					Number of opens = 1
					Rows returned = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
		Right result set:
			Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
Right result set:
	Project-Restrict ResultSet (26):
	Number of opens = 11
	Rows seen = 1127
	Rows filtered = 1108
	restriction = true
	projection = false
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
		restriction time (milliseconds) = 0
		projection time (milliseconds) = 0
	Source result set:
		Sort ResultSet:
		Number of opens = 11
		Rows input = 1127
		Rows returned = 1127
		Eliminate duplicates = true
		In sorted order = false
		Sort information: 
			Number of rows input=102
			Number of rows output=102
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Source result set:
			Union ResultSet:
			Number of opens = 11
			Rows seen from the left = 1122
			Rows seen from the right = 5
			Rows returned = 1127
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Union ResultSet:
				Number of opens = 11
				Rows seen from the left = 1089
				Rows seen from the right = 33
				Rows returned = 1122
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Table Scan ResultSet for T3 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 11
					Rows seen = 1089
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=99
						Number of rows visited=99
						Scan type=heap
						start position: 
null						stop position: 
null						qualifiers:
None
				Right result set:
					Union ResultSet:
					Number of opens = 11
					Rows seen from the left = 22
					Rows seen from the right = 11
					Rows returned = 33
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Union ResultSet:
						Number of opens = 11
						Rows seen from the left = 11
						Rows seen from the right = 11
						Rows returned = 22
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Row ResultSet:
							Number of opens = 11
							Rows returned = 11
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
						Right result set:
							Row ResultSet:
							Number of opens = 11
							Rows returned = 11
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
					Right result set:
						Row ResultSet:
						Number of opens = 11
						Rows returned = 11
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
			Right result set:
				Project-Restrict ResultSet (25):
				Number of opens = 11
				Rows seen = 5
				Rows filtered = 0
				restriction = false
				projection = false
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Index Row to Base Row ResultSet for T4:
					Number of opens = 11
					Rows seen = 5
					Columns accessed from heap = {1}
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						Index Scan ResultSet for T4 using index T4_IX1 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 11
						Rows seen = 5
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of deleted rows visited=0
							Number of pages visited=1
							Number of rows qualified=0
							Number of rows visited=1
							Scan type=btree
							Tree height=1
							start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
							stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
							qualifiers:
None
ij> -- Make sure optimizer is still considering predicates for other, non-UNION
-- nodes.  Here we should use the predicate to do a hash join between X0 and
-- T5 (i.e. we will not push it down to X0 because a) there are VALUES clauses
-- to which we can't push, and b) it's cheaper to do the hash join).
select * from
  t5,
  (values (2,2), (4,4) union
    values (1,1),(2,2),(3,3),(4,4) union
      select i,j from t1
  ) x0 (i,j)
where x0.i = t5.i;
I          |J          |I          |J          
-----------------------------------------------
2          |4          |2          |2          
2          |4          |2          |4          
4          |8          |4          |4          
4          |8          |4          |8          
5          |10         |5          |10         
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Make sure optimizer is still considering predicates for other, non-UNION
-- nodes.  Here we should use the predicate to do a hash join between X0 and
-- T5 (i.e. we will not push it down to X0 because a) there are VALUES clauses
-- to which we can't push, and b) it's cheaper to do the hash join).
select * from
  t5,
  (values (2,2), (4,4) union
    values (1,1),(2,2),(3,3),(4,4) union
      select i,j from t1
  ) x0 (i,j)
where x0.i = t5.i
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (17):
Number of opens = 1
Rows seen = 5
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Hash Join ResultSet:
	Number of opens = 1
	Rows seen from the left = 9
	Rows seen from the right = 5
	Rows filtered = 0
	Rows returned = 5
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Left result set:
		Sort ResultSet:
		Number of opens = 1
		Rows input = 11
		Rows returned = 9
		Eliminate duplicates = true
		In sorted order = false
		Sort information: 
			Number of rows input=11
			Number of rows output=9
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Source result set:
			Union ResultSet:
			Number of opens = 1
			Rows seen from the left = 6
			Rows seen from the right = 5
			Rows returned = 11
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Union ResultSet:
				Number of opens = 1
				Rows seen from the left = 2
				Rows seen from the right = 4
				Rows returned = 6
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Union ResultSet:
					Number of opens = 1
					Rows seen from the left = 1
					Rows seen from the right = 1
					Rows returned = 2
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Row ResultSet:
						Number of opens = 1
						Rows returned = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
					Right result set:
						Row ResultSet:
						Number of opens = 1
						Rows returned = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
				Right result set:
					Union ResultSet:
					Number of opens = 1
					Rows seen from the left = 3
					Rows seen from the right = 1
					Rows returned = 4
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Union ResultSet:
						Number of opens = 1
						Rows seen from the left = 2
						Rows seen from the right = 1
						Rows returned = 3
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Union ResultSet:
							Number of opens = 1
							Rows seen from the left = 1
							Rows seen from the right = 1
							Rows returned = 2
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
							Left result set:
								Row ResultSet:
								Number of opens = 1
								Rows returned = 1
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
							Right result set:
								Row ResultSet:
								Number of opens = 1
								Rows returned = 1
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
						Right result set:
							Row ResultSet:
							Number of opens = 1
							Rows returned = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
					Right result set:
						Row ResultSet:
						Number of opens = 1
						Rows returned = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
			Right result set:
				Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
				Number of opens = 1
				Rows seen = 5
				Rows filtered = 0
				Fetch Size = 1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					next time in milliseconds/row = 0
				scan information: 
					Bit set of columns fetched=All
					Number of columns fetched=2
					Number of pages visited=1
					Number of rows qualified=5
					Number of rows visited=5
					Scan type=heap
					start position: 
null					stop position: 
null					qualifiers:
None
	Right result set:
		Hash Scan ResultSet for T5 at read committed isolation level using instantaneous share row locking: 
		Number of opens = 9
		Hash table size = 3
		Hash key is column number 0
		Rows seen = 5
		Rows filtered = 0
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			next time in milliseconds/row = 0
		scan information: 
			Bit set of columns fetched=All
			Number of columns fetched=2
			Number of pages visited=1
			Number of rows qualified=3
			Number of rows visited=3
			Scan type=heap
			start position: 
null			stop position: 
null			scan qualifiers:
None
			next qualifiers:
Column[0][0] Id: 0
Operator: =
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
ij> -- When we have very deeply nested union queries, make sure predicate push-
-- down logic still works (esp. the scoping logic).  These queries won't return
-- any results, but the predicate should get pushed to EVERY instance of the
-- base table all the way down.  We're just checking to make sure these compile
-- and execute without error.  The query plan for these two queries alone would
-- be several thousand lines so we don't print them out.  We have other
-- (smaller) tests to check that predicates are correctly pushed through nested
-- unions.
select distinct xx0.kk, xx0.ii, xx0.jj from
  xxunion xx0,
  yyunion yy0
where xx0.mm = yy0.ii;
KK                  |II         |JJ        
-------------------------------------------
ij> prepare sel1 as
  'select distinct xx0.kk, xx0.ii, xx0.jj from
    xxunion xx0,
    yyunion yy0
  where xx0.mm = yy0.ii and yy0.aa in (?) for fetch only';
ij> execute sel1 using 'values (1)';
IJ WARNING: Autocommit may close using result set
KK                  |II         |JJ        
-------------------------------------------
ij> -- Predicate push-down should only affect the UNIONs referenced; other UNIONs
-- shouldn't interfere or be affected.  Should see table scans for T1 and T2;
-- then an index scan for the first instance of T3 and a table scan for second
-- instance of T3; likewise for two instances of T4.
select count(*) from
  (select * from t1 union select * from t2) x1,
  (select * from t3 union select * from t4) x2,
  (select * from t4 union select * from t3) x3
where x1.i = x3.a;
1          
-----------
909        
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Predicate push-down should only affect the UNIONs referenced; other UNIONs
-- shouldn't interfere or be affected.  Should see table scans for T1 and T2;
-- then an index scan for the first instance of T3 and a table scan for second
-- instance of T3; likewise for two instances of T4.
select count(*) from
  (select * from t1 union select * from t2) x1,
  (select * from t3 union select * from t4) x2,
  (select * from t4 union select * from t3) x3
where x1.i = x3.a
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (21):
Number of opens = 1
Rows seen = 1
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Scalar Aggregate ResultSet:
	Number of opens = 1
	Rows input = 909
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Index Key Optimization = false
	Source result set:
		Project-Restrict ResultSet (20):
		Number of opens = 1
		Rows seen = 909
		Rows filtered = 0
		restriction = false
		projection = true
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			restriction time (milliseconds) = 0
			projection time (milliseconds) = 0
		Source result set:
			Nested Loop Join ResultSet:
			Number of opens = 1
			Rows seen from the left = 9
			Rows seen from the right = 909
			Rows filtered = 0
			Rows returned = 909
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Nested Loop Join ResultSet:
				Number of opens = 1
				Rows seen from the left = 7
				Rows seen from the right = 9
				Rows filtered = 0
				Rows returned = 9
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Sort ResultSet:
					Number of opens = 1
					Rows input = 10
					Rows returned = 7
					Eliminate duplicates = true
					In sorted order = false
					Sort information: 
						Number of rows input=10
						Number of rows output=7
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Source result set:
						Union ResultSet:
						Number of opens = 1
						Rows seen from the left = 5
						Rows seen from the right = 5
						Rows returned = 10
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
							Number of opens = 1
							Rows seen = 5
							Rows filtered = 0
							Fetch Size = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								next time in milliseconds/row = 0
							scan information: 
								Bit set of columns fetched=All
								Number of columns fetched=2
								Number of pages visited=1
								Number of rows qualified=5
								Number of rows visited=5
								Scan type=heap
								start position: 
null								stop position: 
null								qualifiers:
None
						Right result set:
							Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
							Number of opens = 1
							Rows seen = 5
							Rows filtered = 0
							Fetch Size = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								next time in milliseconds/row = 0
							scan information: 
								Bit set of columns fetched=All
								Number of columns fetched=2
								Number of pages visited=1
								Number of rows qualified=5
								Number of rows visited=5
								Scan type=heap
								start position: 
null								stop position: 
null								qualifiers:
None
				Right result set:
					Sort ResultSet:
					Number of opens = 7
					Rows input = 9
					Rows returned = 9
					Eliminate duplicates = true
					In sorted order = false
					Sort information: 
						Number of rows input=0
						Number of rows output=0
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Source result set:
						Union ResultSet:
						Number of opens = 7
						Rows seen from the left = 3
						Rows seen from the right = 6
						Rows returned = 9
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Project-Restrict ResultSet (12):
							Number of opens = 7
							Rows seen = 3
							Rows filtered = 0
							restriction = false
							projection = false
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								restriction time (milliseconds) = 0
								projection time (milliseconds) = 0
							Source result set:
								Index Row to Base Row ResultSet for T4:
								Number of opens = 7
								Rows seen = 3
								Columns accessed from heap = {1}
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									Index Scan ResultSet for T4 using index T4_IX1 at read committed isolation level using share row locking chosen by the optimizer
									Number of opens = 7
									Rows seen = 3
									Rows filtered = 0
									Fetch Size = 1
										constructor time (milliseconds) = 0
										open time (milliseconds) = 0
										next time (milliseconds) = 0
										close time (milliseconds) = 0
										next time in milliseconds/row = 0
									scan information: 
										Bit set of columns fetched=All
										Number of columns fetched=2
										Number of deleted rows visited=0
										Number of pages visited=1
										Number of rows qualified=0
										Number of rows visited=1
										Scan type=btree
										Tree height=1
										start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
										stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
										qualifiers:
None
						Right result set:
							Project-Restrict ResultSet (15):
							Number of opens = 7
							Rows seen = 6
							Rows filtered = 0
							restriction = false
							projection = false
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								restriction time (milliseconds) = 0
								projection time (milliseconds) = 0
							Source result set:
								Index Row to Base Row ResultSet for T3:
								Number of opens = 7
								Rows seen = 6
								Columns accessed from heap = {1}
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									Index Scan ResultSet for T3 using index T3_IX1 at read committed isolation level using share row locking chosen by the optimizer
									Number of opens = 7
									Rows seen = 6
									Rows filtered = 0
									Fetch Size = 1
										constructor time (milliseconds) = 0
										open time (milliseconds) = 0
										next time (milliseconds) = 0
										close time (milliseconds) = 0
										next time in milliseconds/row = 0
									scan information: 
										Bit set of columns fetched=All
										Number of columns fetched=2
										Number of deleted rows visited=0
										Number of pages visited=1
										Number of rows qualified=0
										Number of rows visited=1
										Scan type=btree
										Tree height=1
										start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
										stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
										qualifiers:
None
			Right result set:
				Sort ResultSet:
				Number of opens = 9
				Rows input = 1719
				Rows returned = 909
				Eliminate duplicates = true
				In sorted order = false
				Sort information: 
					Number of rows input=191
					Number of rows output=101
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Source result set:
					Union ResultSet:
					Number of opens = 9
					Rows seen from the left = 891
					Rows seen from the right = 828
					Rows returned = 1719
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Table Scan ResultSet for T3 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 9
						Rows seen = 891
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=99
							Number of rows visited=99
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
					Right result set:
						Table Scan ResultSet for T4 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 9
						Rows seen = 828
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=92
							Number of rows visited=92
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
ij> -- Here we should see index scans for both instances of T3 and for both
-- instances of T4.
select count(*) from
  (select * from t1 union select * from t2) x1,
  (select * from t3 union select * from t4) x2,
  (select * from t4 union select * from t3) x3
where x1.i = x3.a and x3.b = x2.b;
1          
-----------
9          
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Here we should see index scans for both instances of T3 and for both
-- instances of T4.
select count(*) from
  (select * from t1 union select * from t2) x1,
  (select * from t3 union select * from t4) x2,
  (select * from t4 union select * from t3) x3
where x1.i = x3.a and x3.b = x2.b
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (25):
Number of opens = 1
Rows seen = 1
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Scalar Aggregate ResultSet:
	Number of opens = 1
	Rows input = 9
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Index Key Optimization = false
	Source result set:
		Project-Restrict ResultSet (24):
		Number of opens = 1
		Rows seen = 9
		Rows filtered = 0
		restriction = false
		projection = true
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			restriction time (milliseconds) = 0
			projection time (milliseconds) = 0
		Source result set:
			Nested Loop Join ResultSet:
			Number of opens = 1
			Rows seen from the left = 9
			Rows seen from the right = 9
			Rows filtered = 0
			Rows returned = 9
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Nested Loop Join ResultSet:
				Number of opens = 1
				Rows seen from the left = 7
				Rows seen from the right = 9
				Rows filtered = 0
				Rows returned = 9
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Sort ResultSet:
					Number of opens = 1
					Rows input = 10
					Rows returned = 7
					Eliminate duplicates = true
					In sorted order = false
					Sort information: 
						Number of rows input=10
						Number of rows output=7
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Source result set:
						Union ResultSet:
						Number of opens = 1
						Rows seen from the left = 5
						Rows seen from the right = 5
						Rows returned = 10
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
							Number of opens = 1
							Rows seen = 5
							Rows filtered = 0
							Fetch Size = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								next time in milliseconds/row = 0
							scan information: 
								Bit set of columns fetched=All
								Number of columns fetched=2
								Number of pages visited=1
								Number of rows qualified=5
								Number of rows visited=5
								Scan type=heap
								start position: 
null								stop position: 
null								qualifiers:
None
						Right result set:
							Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
							Number of opens = 1
							Rows seen = 5
							Rows filtered = 0
							Fetch Size = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								next time in milliseconds/row = 0
							scan information: 
								Bit set of columns fetched=All
								Number of columns fetched=2
								Number of pages visited=1
								Number of rows qualified=5
								Number of rows visited=5
								Scan type=heap
								start position: 
null								stop position: 
null								qualifiers:
None
				Right result set:
					Sort ResultSet:
					Number of opens = 7
					Rows input = 9
					Rows returned = 9
					Eliminate duplicates = true
					In sorted order = false
					Sort information: 
						Number of rows input=0
						Number of rows output=0
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Source result set:
						Union ResultSet:
						Number of opens = 7
						Rows seen from the left = 3
						Rows seen from the right = 6
						Rows returned = 9
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Project-Restrict ResultSet (12):
							Number of opens = 7
							Rows seen = 3
							Rows filtered = 0
							restriction = false
							projection = false
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								restriction time (milliseconds) = 0
								projection time (milliseconds) = 0
							Source result set:
								Index Row to Base Row ResultSet for T4:
								Number of opens = 7
								Rows seen = 3
								Columns accessed from heap = {1}
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									Index Scan ResultSet for T4 using index T4_IX1 at read committed isolation level using share row locking chosen by the optimizer
									Number of opens = 7
									Rows seen = 3
									Rows filtered = 0
									Fetch Size = 1
										constructor time (milliseconds) = 0
										open time (milliseconds) = 0
										next time (milliseconds) = 0
										close time (milliseconds) = 0
										next time in milliseconds/row = 0
									scan information: 
										Bit set of columns fetched=All
										Number of columns fetched=2
										Number of deleted rows visited=0
										Number of pages visited=1
										Number of rows qualified=0
										Number of rows visited=1
										Scan type=btree
										Tree height=1
										start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
										stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
										qualifiers:
None
						Right result set:
							Project-Restrict ResultSet (15):
							Number of opens = 7
							Rows seen = 6
							Rows filtered = 0
							restriction = false
							projection = false
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								restriction time (milliseconds) = 0
								projection time (milliseconds) = 0
							Source result set:
								Index Row to Base Row ResultSet for T3:
								Number of opens = 7
								Rows seen = 6
								Columns accessed from heap = {1}
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									Index Scan ResultSet for T3 using index T3_IX1 at read committed isolation level using share row locking chosen by the optimizer
									Number of opens = 7
									Rows seen = 6
									Rows filtered = 0
									Fetch Size = 1
										constructor time (milliseconds) = 0
										open time (milliseconds) = 0
										next time (milliseconds) = 0
										close time (milliseconds) = 0
										next time in milliseconds/row = 0
									scan information: 
										Bit set of columns fetched=All
										Number of columns fetched=2
										Number of deleted rows visited=0
										Number of pages visited=1
										Number of rows qualified=0
										Number of rows visited=1
										Scan type=btree
										Tree height=1
										start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
										stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
										qualifiers:
None
			Right result set:
				Sort ResultSet:
				Number of opens = 9
				Rows input = 9
				Rows returned = 9
				Eliminate duplicates = true
				In sorted order = false
				Sort information: 
					Number of rows input=1
					Number of rows output=1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Source result set:
					Union ResultSet:
					Number of opens = 9
					Rows seen from the left = 6
					Rows seen from the right = 3
					Rows returned = 9
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Project-Restrict ResultSet (20):
						Number of opens = 9
						Rows seen = 6
						Rows filtered = 0
						restriction = false
						projection = false
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							restriction time (milliseconds) = 0
							projection time (milliseconds) = 0
						Source result set:
							Index Row to Base Row ResultSet for T3:
							Number of opens = 9
							Rows seen = 6
							Columns accessed from heap = {0}
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								Index Scan ResultSet for T3 using index T3_IX2 at read committed isolation level using share row locking chosen by the optimizer
								Number of opens = 9
								Rows seen = 6
								Rows filtered = 0
								Fetch Size = 1
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									next time in milliseconds/row = 0
								scan information: 
									Bit set of columns fetched=All
									Number of columns fetched=2
									Number of deleted rows visited=0
									Number of pages visited=1
									Number of rows qualified=0
									Number of rows visited=1
									Scan type=btree
									Tree height=1
									start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
									stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
									qualifiers:
None
					Right result set:
						Project-Restrict ResultSet (23):
						Number of opens = 9
						Rows seen = 3
						Rows filtered = 0
						restriction = false
						projection = false
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							restriction time (milliseconds) = 0
							projection time (milliseconds) = 0
						Source result set:
							Index Row to Base Row ResultSet for T4:
							Number of opens = 9
							Rows seen = 3
							Columns accessed from heap = {0}
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								Index Scan ResultSet for T4 using index T4_IX2 at read committed isolation level using share row locking chosen by the optimizer
								Number of opens = 9
								Rows seen = 3
								Rows filtered = 0
								Fetch Size = 1
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									next time in milliseconds/row = 0
								scan information: 
									Bit set of columns fetched=All
									Number of columns fetched=2
									Number of deleted rows visited=0
									Number of pages visited=1
									Number of rows qualified=1
									Number of rows visited=2
									Scan type=btree
									Tree height=1
									start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
									stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
									qualifiers:
None
ij> -- Predicates pushed from outer queries shouldn't interfere with inner
-- predicates for subqueries.  Mostly checking for correct results here.
select * from
  (select i, b j from t1, t4 where i = j union select * from t2) x1,
  t3
where x1.j = t3.a;
I          |J          |A          |B          
-----------------------------------------------
1          |2          |2          |2          
3          |6          |6          |24         
5          |10         |10         |40         
ij> -- Inner predicate should be handled as normal, outer predicate should
-- still be pushed to V2 (T3 and T4).
select * from
  (select i, b j from t1, t4 where i = j union select * from t2) x1,
  v2
where x1.j = v2.a;
I          |J          |A          |B          
-----------------------------------------------
1          |2          |2          |2          
3          |6          |6          |24         
5          |10         |10         |40         
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Inner predicate should be handled as normal, outer predicate should
-- still be pushed to V2 (T3 and T4).
select * from
  (select i, b j from t1, t4 where i = j union select * from t2) x1,
  v2
where x1.j = v2.a
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 5
Rows seen from the right = 3
Rows filtered = 0
Rows returned = 3
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 5
	Rows returned = 5
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=5
		Number of rows output=5
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 0
		Rows seen from the right = 5
		Rows returned = 5
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (8):
			Number of opens = 1
			Rows seen = 0
			Rows filtered = 0
			restriction = false
			projection = true
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Nested Loop Join ResultSet:
				Number of opens = 1
				Rows seen from the left = 0
				Rows seen from the right = 0
				Rows filtered = 0
				Rows returned = 0
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Project-Restrict ResultSet (6):
					Number of opens = 1
					Rows seen = 5
					Rows filtered = 5
					restriction = true
					projection = false
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						restriction time (milliseconds) = 0
						projection time (milliseconds) = 0
					Source result set:
						Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 1
						Rows seen = 5
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=5
							Number of rows visited=5
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
				Right result set:
					Table Scan ResultSet for T4 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 0
					Rows seen = 0
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					scan information: 
						start position: 
null						stop position: 
null						qualifiers:
None
		Right result set:
			Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
Right result set:
	Sort ResultSet:
	Number of opens = 5
	Rows input = 3
	Rows returned = 3
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=1
		Number of rows output=1
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 5
		Rows seen from the left = 3
		Rows seen from the right = 0
		Rows returned = 3
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (14):
			Number of opens = 5
			Rows seen = 3
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T3:
				Number of opens = 5
				Rows seen = 3
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T3 using index T3_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 5
					Rows seen = 3
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=1
						Number of rows visited=2
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (17):
			Number of opens = 5
			Rows seen = 0
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T4:
				Number of opens = 5
				Rows seen = 0
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T4 using index T4_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 5
					Rows seen = 0
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
ij> -- Outer predicate should still be pushed to V2 (T3 and T4); inner predicate
-- should be used for hash join between T1 and T3.
select * from
  (select i, j from t1, t3 where i = a union select * from t2) x1,
  v2
where x1.i = v2.a;
I          |J          |A          |B          
-----------------------------------------------
1          |2          |1          |1          
2          |-4         |2          |2          
2          |4          |2          |2          
3          |6          |3          |3          
3          |6          |3          |12         
4          |-8         |4          |4          
4          |-8         |4          |16         
4          |8          |4          |4          
4          |8          |4          |16         
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Outer predicate should still be pushed to V2 (T3 and T4); inner predicate
-- should be used for hash join between T1 and T3.
select * from
  (select i, j from t1, t3 where i = a union select * from t2) x1,
  v2
where x1.i = v2.a
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 7
Rows seen from the right = 9
Rows filtered = 0
Rows returned = 9
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 9
	Rows returned = 7
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=9
		Number of rows output=7
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 4
		Rows seen from the right = 5
		Rows returned = 9
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (7):
			Number of opens = 1
			Rows seen = 4
			Rows filtered = 0
			restriction = false
			projection = true
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Hash Join ResultSet:
				Number of opens = 1
				Rows seen from the left = 99
				Rows seen from the right = 4
				Rows filtered = 0
				Rows returned = 4
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Table Scan ResultSet for T3 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 1
					Rows seen = 99
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched={0}
						Number of columns fetched=1
						Number of pages visited=1
						Number of rows qualified=99
						Number of rows visited=99
						Scan type=heap
						start position: 
null						stop position: 
null						qualifiers:
None
				Right result set:
					Hash Scan ResultSet for T1 at read committed isolation level using instantaneous share row locking: 
					Number of opens = 99
					Hash table size = 5
					Hash key is column number 0
					Rows seen = 4
					Rows filtered = 0
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=5
						Number of rows visited=5
						Scan type=heap
						start position: 
null						stop position: 
null						scan qualifiers:
None
						next qualifiers:
Column[0][0] Id: 0
Operator: =
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
		Right result set:
			Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
Right result set:
	Sort ResultSet:
	Number of opens = 7
	Rows input = 9
	Rows returned = 9
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=0
		Number of rows output=0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 7
		Rows seen from the left = 6
		Rows seen from the right = 3
		Rows returned = 9
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (13):
			Number of opens = 7
			Rows seen = 6
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T3:
				Number of opens = 7
				Rows seen = 6
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T3 using index T3_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 7
					Rows seen = 6
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (16):
			Number of opens = 7
			Rows seen = 3
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Index Row to Base Row ResultSet for T4:
				Number of opens = 7
				Rows seen = 3
				Columns accessed from heap = {1}
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					Index Scan ResultSet for T4 using index T4_IX1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 7
					Rows seen = 3
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of deleted rows visited=0
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=1
						Scan type=btree
						Tree height=1
						start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
						stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
						qualifiers:
None
ij> -- Inner predicates treated as restrictions, outer predicate should
-- get pushed to X2 (T2 and T1).  So scans for last instances of T1
-- and T2 should have qualifiers that came from the predicate.
select * from
  (select i, b j from t1, t4 where i = j union select * from t2) x1,
  (select i, b j from t2, t3 where i = j union select * from t1) x2
where x1.j = x2.i;
I          |J          |I          |J          
-----------------------------------------------
1          |2          |2          |4          
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Inner predicates treated as restrictions, outer predicate should
-- get pushed to X2 (T2 and T1).  So scans for last instances of T1
-- and T2 should have qualifiers that came from the predicate.
select * from
  (select i, b j from t1, t4 where i = j union select * from t2) x1,
  (select i, b j from t2, t3 where i = j union select * from t1) x2
where x1.j = x2.i
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Nested Loop Join ResultSet:
Number of opens = 1
Rows seen from the left = 5
Rows seen from the right = 1
Rows filtered = 0
Rows returned = 1
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Left result set:
	Sort ResultSet:
	Number of opens = 1
	Rows input = 5
	Rows returned = 5
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=5
		Number of rows output=5
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 1
		Rows seen from the left = 0
		Rows seen from the right = 5
		Rows returned = 5
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (8):
			Number of opens = 1
			Rows seen = 0
			Rows filtered = 0
			restriction = false
			projection = true
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Nested Loop Join ResultSet:
				Number of opens = 1
				Rows seen from the left = 0
				Rows seen from the right = 0
				Rows filtered = 0
				Rows returned = 0
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Project-Restrict ResultSet (6):
					Number of opens = 1
					Rows seen = 5
					Rows filtered = 5
					restriction = true
					projection = false
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						restriction time (milliseconds) = 0
						projection time (milliseconds) = 0
					Source result set:
						Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 1
						Rows seen = 5
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=5
							Number of rows visited=5
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
				Right result set:
					Table Scan ResultSet for T4 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 0
					Rows seen = 0
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					scan information: 
						start position: 
null						stop position: 
null						qualifiers:
None
		Right result set:
			Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 1
			Rows seen = 5
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
Right result set:
	Sort ResultSet:
	Number of opens = 5
	Rows input = 1
	Rows returned = 1
	Eliminate duplicates = true
	In sorted order = false
	Sort information: 
		Number of rows input=0
		Number of rows output=0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Source result set:
		Union ResultSet:
		Number of opens = 5
		Rows seen from the left = 0
		Rows seen from the right = 1
		Rows returned = 1
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Project-Restrict ResultSet (16):
			Number of opens = 5
			Rows seen = 0
			Rows filtered = 0
			restriction = false
			projection = true
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Nested Loop Join ResultSet:
				Number of opens = 5
				Rows seen from the left = 0
				Rows seen from the right = 0
				Rows filtered = 0
				Rows returned = 0
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Project-Restrict ResultSet (14):
					Number of opens = 5
					Rows seen = 1
					Rows filtered = 1
					restriction = true
					projection = false
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						restriction time (milliseconds) = 0
						projection time (milliseconds) = 0
					Source result set:
						Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 5
						Rows seen = 1
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=0
							Number of rows visited=5
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
Column[0][0] Id: 0
Operator: =
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
				Right result set:
					Table Scan ResultSet for T3 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 0
					Rows seen = 0
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					scan information: 
						start position: 
null						stop position: 
null						qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (18):
			Number of opens = 5
			Rows seen = 1
			Rows filtered = 0
			restriction = false
			projection = false
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
				Number of opens = 5
				Rows seen = 1
				Rows filtered = 0
				Fetch Size = 1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					next time in milliseconds/row = 0
				scan information: 
					Bit set of columns fetched=All
					Number of columns fetched=2
					Number of pages visited=1
					Number of rows qualified=0
					Number of rows visited=5
					Scan type=heap
					start position: 
null					stop position: 
null					qualifiers:
Column[0][0] Id: 0
Operator: =
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
ij> -- Following queries deal with nested subqueries, which deserve extra
-- testing because "best paths" for outer queries might not agree with
-- "best paths" for inner queries, so we need to make sure the correct
-- paths (based on predicates that are or are not pushed) are ultimately
-- generated.
-- Predicate should get pushed to V2 (T3 and T4).
select count(*) from
    (select i,a,j,b from
        V1,
        V2
     where V1.j = V2.b
    ) X3;
1          
-----------
2          
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Following queries deal with nested subqueries, which deserve extra
-- testing because "best paths" for outer queries might not agree with
-- "best paths" for inner queries, so we need to make sure the correct
-- paths (based on predicates that are or are not pushed) are ultimately
-- generated.
-- Predicate should get pushed to V2 (T3 and T4).
select count(*) from
    (select i,a,j,b from
        V1,
        V2
     where V1.j = V2.b
    ) X3
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (17):
Number of opens = 1
Rows seen = 1
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Scalar Aggregate ResultSet:
	Number of opens = 1
	Rows input = 2
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Index Key Optimization = false
	Source result set:
		Project-Restrict ResultSet (16):
		Number of opens = 1
		Rows seen = 2
		Rows filtered = 0
		restriction = false
		projection = true
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			restriction time (milliseconds) = 0
			projection time (milliseconds) = 0
		Source result set:
			Project-Restrict ResultSet (15):
			Number of opens = 1
			Rows seen = 2
			Rows filtered = 0
			restriction = false
			projection = true
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Nested Loop Join ResultSet:
				Number of opens = 1
				Rows seen from the left = 7
				Rows seen from the right = 2
				Rows filtered = 0
				Rows returned = 2
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Sort ResultSet:
					Number of opens = 1
					Rows input = 10
					Rows returned = 7
					Eliminate duplicates = true
					In sorted order = false
					Sort information: 
						Number of rows input=10
						Number of rows output=7
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Source result set:
						Union ResultSet:
						Number of opens = 1
						Rows seen from the left = 5
						Rows seen from the right = 5
						Rows returned = 10
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
							Number of opens = 1
							Rows seen = 5
							Rows filtered = 0
							Fetch Size = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								next time in milliseconds/row = 0
							scan information: 
								Bit set of columns fetched=All
								Number of columns fetched=2
								Number of pages visited=1
								Number of rows qualified=5
								Number of rows visited=5
								Scan type=heap
								start position: 
null								stop position: 
null								qualifiers:
None
						Right result set:
							Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
							Number of opens = 1
							Rows seen = 5
							Rows filtered = 0
							Fetch Size = 1
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								next time in milliseconds/row = 0
							scan information: 
								Bit set of columns fetched=All
								Number of columns fetched=2
								Number of pages visited=1
								Number of rows qualified=5
								Number of rows visited=5
								Scan type=heap
								start position: 
null								stop position: 
null								qualifiers:
None
				Right result set:
					Sort ResultSet:
					Number of opens = 7
					Rows input = 2
					Rows returned = 2
					Eliminate duplicates = true
					In sorted order = false
					Sort information: 
						Number of rows input=0
						Number of rows output=0
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Source result set:
						Union ResultSet:
						Number of opens = 7
						Rows seen from the left = 2
						Rows seen from the right = 0
						Rows returned = 2
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						Left result set:
							Project-Restrict ResultSet (11):
							Number of opens = 7
							Rows seen = 2
							Rows filtered = 0
							restriction = false
							projection = false
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								restriction time (milliseconds) = 0
								projection time (milliseconds) = 0
							Source result set:
								Index Row to Base Row ResultSet for T3:
								Number of opens = 7
								Rows seen = 2
								Columns accessed from heap = {0}
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									Index Scan ResultSet for T3 using index T3_IX2 at read committed isolation level using share row locking chosen by the optimizer
									Number of opens = 7
									Rows seen = 2
									Rows filtered = 0
									Fetch Size = 1
										constructor time (milliseconds) = 0
										open time (milliseconds) = 0
										next time (milliseconds) = 0
										close time (milliseconds) = 0
										next time in milliseconds/row = 0
									scan information: 
										Bit set of columns fetched=All
										Number of columns fetched=2
										Number of deleted rows visited=0
										Number of pages visited=1
										Number of rows qualified=0
										Number of rows visited=1
										Scan type=btree
										Tree height=1
										start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
										stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
										qualifiers:
None
						Right result set:
							Project-Restrict ResultSet (14):
							Number of opens = 7
							Rows seen = 0
							Rows filtered = 0
							restriction = false
							projection = false
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
								restriction time (milliseconds) = 0
								projection time (milliseconds) = 0
							Source result set:
								Index Row to Base Row ResultSet for T4:
								Number of opens = 7
								Rows seen = 0
								Columns accessed from heap = {0}
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									Index Scan ResultSet for T4 using index T4_IX2 at read committed isolation level using share row locking chosen by the optimizer
									Number of opens = 7
									Rows seen = 0
									Rows filtered = 0
									Fetch Size = 1
										constructor time (milliseconds) = 0
										open time (milliseconds) = 0
										next time (milliseconds) = 0
										close time (milliseconds) = 0
									scan information: 
										Bit set of columns fetched=All
										Number of columns fetched=2
										Number of deleted rows visited=0
										Number of pages visited=1
										Number of rows qualified=0
										Number of rows visited=1
										Scan type=btree
										Tree height=1
										start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
										stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
										qualifiers:
None
ij> -- Multiple subqueries but NO UNIONs.  All predicates are used for hash joins
-- at their current level (no pushing).  So should see hash scan on T1, T6,
-- and T2.
select t2.i,p from
  (select distinct i,p from
    (select distinct i,a from t1, t3 where t1.j = t3.b) X1,
    t6
  where X1.a = t6.p) X2,
  t2
where t2.i = X2.i;
I          |P          
-----------------------
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Multiple subqueries but NO UNIONs.  All predicates are used for hash joins
-- at their current level (no pushing).  So should see hash scan on T1, T6,
-- and T2.
select t2.i,p from
  (select distinct i,p from
    (select distinct i,a from t1, t3 where t1.j = t3.b) X1,
    t6
  where X1.a = t6.p) X2,
  t2
where t2.i = X2.i
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (12):
Number of opens = 1
Rows seen = 0
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Hash Join ResultSet:
	Number of opens = 1
	Rows seen from the left = 0
	Rows seen from the right = 0
	Rows filtered = 0
	Rows returned = 0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Left result set:
		Sort ResultSet:
		Number of opens = 1
		Rows input = 0
		Rows returned = 0
		Eliminate duplicates = true
		In sorted order = false
		Sort information: 
			Number of rows input=0
			Number of rows output=0
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Source result set:
			Project-Restrict ResultSet (10):
			Number of opens = 1
			Rows seen = 0
			Rows filtered = 0
			restriction = false
			projection = true
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Hash Join ResultSet:
				Number of opens = 1
				Rows seen from the left = 2
				Rows seen from the right = 0
				Rows filtered = 0
				Rows returned = 0
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Sort ResultSet:
					Number of opens = 1
					Rows input = 2
					Rows returned = 2
					Eliminate duplicates = true
					In sorted order = false
					Sort information: 
						Number of rows input=2
						Number of rows output=2
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Source result set:
						Project-Restrict ResultSet (8):
						Number of opens = 1
						Rows seen = 2
						Rows filtered = 0
						restriction = false
						projection = true
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							restriction time (milliseconds) = 0
							projection time (milliseconds) = 0
						Source result set:
							Hash Join ResultSet:
							Number of opens = 1
							Rows seen from the left = 99
							Rows seen from the right = 2
							Rows filtered = 0
							Rows returned = 2
								constructor time (milliseconds) = 0
								open time (milliseconds) = 0
								next time (milliseconds) = 0
								close time (milliseconds) = 0
							Left result set:
								Table Scan ResultSet for T3 at read committed isolation level using share row locking chosen by the optimizer
								Number of opens = 1
								Rows seen = 99
								Rows filtered = 0
								Fetch Size = 1
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									next time in milliseconds/row = 0
								scan information: 
									Bit set of columns fetched=All
									Number of columns fetched=2
									Number of pages visited=1
									Number of rows qualified=99
									Number of rows visited=99
									Scan type=heap
									start position: 
null									stop position: 
null									qualifiers:
None
							Right result set:
								Hash Scan ResultSet for T1 at read committed isolation level using instantaneous share row locking: 
								Number of opens = 99
								Hash table size = 5
								Hash key is column number 1
								Rows seen = 2
								Rows filtered = 0
									constructor time (milliseconds) = 0
									open time (milliseconds) = 0
									next time (milliseconds) = 0
									close time (milliseconds) = 0
									next time in milliseconds/row = 0
								scan information: 
									Bit set of columns fetched=All
									Number of columns fetched=2
									Number of pages visited=1
									Number of rows qualified=5
									Number of rows visited=5
									Scan type=heap
									start position: 
null									stop position: 
null									scan qualifiers:
None
									next qualifiers:
Column[0][0] Id: 1
Operator: =
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
				Right result set:
					Hash Scan ResultSet for T6 at read committed isolation level using instantaneous share row locking: 
					Number of opens = 2
					Hash table size = 0
					Hash key is column number 0
					Rows seen = 0
					Rows filtered = 0
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					scan information: 
						Bit set of columns fetched={0}
						Number of columns fetched=1
						Number of pages visited=1
						Number of rows qualified=0
						Number of rows visited=0
						Scan type=heap
						start position: 
null						stop position: 
null						scan qualifiers:
None
						next qualifiers:
Column[0][0] Id: 0
Operator: =
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
	Right result set:
		Hash Scan ResultSet for T2 at read committed isolation level using instantaneous share row locking: 
		Number of opens = 0
		Hash table size = 0
		Hash key is column number 0
		Rows seen = 0
		Rows filtered = 0
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		scan information: 
			start position: 
null			stop position: 
null			scan qualifiers:
None
			next qualifiers:
Column[0][0] Id: 0
Operator: =
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
ij> -- Multiple, non-flattenable subqueries, but NO UNIONs.  Shouldn't push
-- anything.
select x1.j, x2.b from
  (select distinct i,j from t1) x1,
  (select distinct a,b from t3) x2
where x1.i = x2.a
order by x1.j, x2.b;
J          |B          
-----------------------
2          |1          
4          |2          
6          |3          
8          |4          
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Multiple, non-flattenable subqueries, but NO UNIONs.  Shouldn't push
-- anything.
select x1.j, x2.b from
  (select distinct i,j from t1) x1,
  (select distinct a,b from t3) x2
where x1.i = x2.a
order by x1.j, x2.b
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Sort ResultSet:
Number of opens = 1
Rows input = 4
Rows returned = 4
Eliminate duplicates = false
In sorted order = false
Sort information: 
	Number of rows input=4
	Number of rows output=4
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Source result set:
	Project-Restrict ResultSet (5):
	Number of opens = 1
	Rows seen = 4
	Rows filtered = 0
	restriction = false
	projection = true
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
		restriction time (milliseconds) = 0
		projection time (milliseconds) = 0
	Source result set:
		Nested Loop Join ResultSet:
		Number of opens = 1
		Rows seen from the left = 5
		Rows seen from the right = 4
		Rows filtered = 0
		Rows returned = 4
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Distinct Scan ResultSet for T1 using index xxxxFILTERED-UUIDxxxx at read committed isolation level using instantaneous share row locking: 
			Number of opens = 1
			Hash table size = 5
			Distinct columns are column numbers (0,1)
			Rows seen = 5
			Rows filtered = 0
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				next time in milliseconds/row = 0
			scan information: 
				Bit set of columns fetched=All
				Number of columns fetched=2
				Number of pages visited=1
				Number of rows qualified=5
				Number of rows visited=5
				Scan type=heap
				start position:
	None
				stop position:
	None
				scan qualifiers:
None
				next qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (4):
			Number of opens = 5
			Rows seen = 495
			Rows filtered = 491
			restriction = true
			projection = true
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Distinct Scan ResultSet for T3 using index xxxxFILTERED-UUIDxxxx at read committed isolation level using instantaneous share row locking: 
				Number of opens = 5
				Hash table size = 99
				Distinct columns are column numbers (0,1)
				Rows seen = 495
				Rows filtered = 0
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					next time in milliseconds/row = 0
				scan information: 
					Bit set of columns fetched=All
					Number of columns fetched=2
					Number of pages visited=1
					Number of rows qualified=99
					Number of rows visited=99
					Scan type=heap
					start position:
	None
					stop position:
	None
					scan qualifiers:
None
					next qualifiers:
None
ij> select x1.j, x2.b from
  (select distinct i,j from t1) x1,
  (select distinct a,b from t3) x2,
  (select distinct i,j from t2) x3,
  (select distinct a,b from t4) x4
where x1.i = x2.a and x3.i = x4.a
order by x1.j, x2.b;
J          |B          
-----------------------
2          |1          
2          |1          
4          |2          
4          |2          
6          |3          
6          |3          
8          |4          
8          |4          
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	select x1.j, x2.b from
  (select distinct i,j from t1) x1,
  (select distinct a,b from t3) x2,
  (select distinct i,j from t2) x3,
  (select distinct a,b from t4) x4
where x1.i = x2.a and x3.i = x4.a
order by x1.j, x2.b
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Sort ResultSet:
Number of opens = 1
Rows input = 8
Rows returned = 8
Eliminate duplicates = false
In sorted order = false
Sort information: 
	Number of rows input=8
	Number of rows output=8
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
Source result set:
	Project-Restrict ResultSet (10):
	Number of opens = 1
	Rows seen = 8
	Rows filtered = 0
	restriction = false
	projection = true
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
		restriction time (milliseconds) = 0
		projection time (milliseconds) = 0
	Source result set:
		Nested Loop Join ResultSet:
		Number of opens = 1
		Rows seen from the left = 10
		Rows seen from the right = 8
		Rows filtered = 0
		Rows returned = 8
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Nested Loop Join ResultSet:
			Number of opens = 1
			Rows seen from the left = 25
			Rows seen from the right = 10
			Rows filtered = 0
			Rows returned = 10
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Nested Loop Join ResultSet:
				Number of opens = 1
				Rows seen from the left = 5
				Rows seen from the right = 25
				Rows filtered = 0
				Rows returned = 25
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Distinct Scan ResultSet for T1 using index xxxxFILTERED-UUIDxxxx at read committed isolation level using instantaneous share row locking: 
					Number of opens = 1
					Hash table size = 5
					Distinct columns are column numbers (0,1)
					Rows seen = 5
					Rows filtered = 0
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=5
						Number of rows visited=5
						Scan type=heap
						start position:
	None
						stop position:
	None
						scan qualifiers:
None
						next qualifiers:
None
				Right result set:
					Distinct Scan ResultSet for T2 using index xxxxFILTERED-UUIDxxxx at read committed isolation level using instantaneous share row locking: 
					Number of opens = 5
					Hash table size = 5
					Distinct columns are column numbers (0,1)
					Rows seen = 25
					Rows filtered = 0
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=5
						Number of rows visited=5
						Scan type=heap
						start position:
	None
						stop position:
	None
						scan qualifiers:
None
						next qualifiers:
None
			Right result set:
				Project-Restrict ResultSet (7):
				Number of opens = 25
				Rows seen = 2300
				Rows filtered = 2290
				restriction = true
				projection = true
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Distinct Scan ResultSet for T4 using index xxxxFILTERED-UUIDxxxx at read committed isolation level using instantaneous share row locking: 
					Number of opens = 25
					Hash table size = 92
					Distinct columns are column numbers (0,1)
					Rows seen = 2300
					Rows filtered = 0
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=92
						Number of rows visited=92
						Scan type=heap
						start position:
	None
						stop position:
	None
						scan qualifiers:
None
						next qualifiers:
None
		Right result set:
			Project-Restrict ResultSet (9):
			Number of opens = 10
			Rows seen = 990
			Rows filtered = 982
			restriction = true
			projection = true
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
				restriction time (milliseconds) = 0
				projection time (milliseconds) = 0
			Source result set:
				Distinct Scan ResultSet for T3 using index xxxxFILTERED-UUIDxxxx at read committed isolation level using instantaneous share row locking: 
				Number of opens = 10
				Hash table size = 99
				Distinct columns are column numbers (0,1)
				Rows seen = 990
				Rows filtered = 0
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					next time in milliseconds/row = 0
				scan information: 
					Bit set of columns fetched=All
					Number of columns fetched=2
					Number of pages visited=1
					Number of rows qualified=99
					Number of rows visited=99
					Scan type=heap
					start position:
	None
					stop position:
	None
					scan qualifiers:
None
					next qualifiers:
None
ij> -- Multiple subqueries that are UNIONs.  Outer-most predicate
-- X0.b = X2.j can be pushed to union X0 but NOT to subquery X2.
-- Inner predicate T6.p = X1.i is eligible for being pushed into
-- union X1, but optimizer won't choose to do so (because it's
-- cheaper to do a hash between X1 and T6).  So should see
-- predicate pushed to T3 and T4, but not to T1 nor T2.
select X0.a, X2.i from
   (select a,b from t4 union select a,b from t3) X0,
   (select i,j from
      (select i,j from t1 union select i,j from t2) X1,
       T6
    where T6.p = X1.i) X2
where X0.b = X2.j
;
A          |I          
-----------------------
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Multiple subqueries that are UNIONs.  Outer-most predicate
-- X0.b = X2.j can be pushed to union X0 but NOT to subquery X2.
-- Inner predicate T6.p = X1.i is eligible for being pushed into
-- union X1, but optimizer won't choose to do so (because it's
-- cheaper to do a hash between X1 and T6).  So should see
-- predicate pushed to T3 and T4, but not to T1 nor T2.
select X0.a, X2.i from
   (select a,b from t4 union select a,b from t3) X0,
   (select i,j from
      (select i,j from t1 union select i,j from t2) X1,
       T6
    where T6.p = X1.i) X2
where X0.b = X2.j
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (17):
Number of opens = 1
Rows seen = 0
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Nested Loop Join ResultSet:
	Number of opens = 1
	Rows seen from the left = 0
	Rows seen from the right = 0
	Rows filtered = 0
	Rows returned = 0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Left result set:
		Project-Restrict ResultSet (8):
		Number of opens = 1
		Rows seen = 0
		Rows filtered = 0
		restriction = false
		projection = true
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			restriction time (milliseconds) = 0
			projection time (milliseconds) = 0
		Source result set:
			Hash Join ResultSet:
			Number of opens = 1
			Rows seen from the left = 7
			Rows seen from the right = 0
			Rows filtered = 0
			Rows returned = 0
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Sort ResultSet:
				Number of opens = 1
				Rows input = 10
				Rows returned = 7
				Eliminate duplicates = true
				In sorted order = false
				Sort information: 
					Number of rows input=10
					Number of rows output=7
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Source result set:
					Union ResultSet:
					Number of opens = 1
					Rows seen from the left = 5
					Rows seen from the right = 5
					Rows returned = 10
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 1
						Rows seen = 5
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=5
							Number of rows visited=5
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
					Right result set:
						Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 1
						Rows seen = 5
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=5
							Number of rows visited=5
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
			Right result set:
				Hash Scan ResultSet for T6 at read committed isolation level using instantaneous share row locking: 
				Number of opens = 7
				Hash table size = 0
				Hash key is column number 0
				Rows seen = 0
				Rows filtered = 0
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				scan information: 
					Bit set of columns fetched={0}
					Number of columns fetched=1
					Number of pages visited=1
					Number of rows qualified=0
					Number of rows visited=0
					Scan type=heap
					start position: 
null					stop position: 
null					scan qualifiers:
None
					next qualifiers:
Column[0][0] Id: 0
Operator: =
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
	Right result set:
		Sort ResultSet:
		Number of opens = 0
		Rows input = 0
		Rows returned = 0
		Eliminate duplicates = true
		In sorted order = false
		Sort information: 
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Source result set:
			Union ResultSet:
			Number of opens = 0
			Rows seen from the left = 0
			Rows seen from the right = 0
			Rows returned = 0
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Project-Restrict ResultSet (13):
				Number of opens = 0
				Rows seen = 0
				Rows filtered = 0
				restriction = false
				projection = false
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Index Row to Base Row ResultSet for T4:
					Number of opens = 0
					Rows seen = 0
					Columns accessed from heap = {0}
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						Index Scan ResultSet for T4 using index T4_IX2 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 0
						Rows seen = 0
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						scan information: 
							start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
							stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
							qualifiers:
None
			Right result set:
				Project-Restrict ResultSet (16):
				Number of opens = 0
				Rows seen = 0
				Rows filtered = 0
				restriction = false
				projection = false
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Index Row to Base Row ResultSet for T3:
					Number of opens = 0
					Rows seen = 0
					Columns accessed from heap = {0}
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						Index Scan ResultSet for T3 using index T3_IX2 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 0
						Rows seen = 0
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						scan information: 
							start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
							stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
							qualifiers:
None
ij> -- Same as above but without the inner predicate (so no
-- hash on T6).
select X0.a, X2.i from
   (select a,b from t4 union select a,b from t3) X0,
   (select i,j from
      (select i,j from t1 union select i,j from t2) X1,
       T6
   ) X2
where X0.b = X2.j
;
A          |I          
-----------------------
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Same as above but without the inner predicate (so no
-- hash on T6).
select X0.a, X2.i from
   (select a,b from t4 union select a,b from t3) X0,
   (select i,j from
      (select i,j from t1 union select i,j from t2) X1,
       T6
   ) X2
where X0.b = X2.j
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (16):
Number of opens = 1
Rows seen = 0
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Nested Loop Join ResultSet:
	Number of opens = 1
	Rows seen from the left = 0
	Rows seen from the right = 0
	Rows filtered = 0
	Rows returned = 0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Left result set:
		Nested Loop Join ResultSet:
		Number of opens = 1
		Rows seen from the left = 7
		Rows seen from the right = 0
		Rows filtered = 0
		Rows returned = 0
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Left result set:
			Sort ResultSet:
			Number of opens = 1
			Rows input = 10
			Rows returned = 7
			Eliminate duplicates = true
			In sorted order = false
			Sort information: 
				Number of rows input=10
				Number of rows output=7
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Source result set:
				Union ResultSet:
				Number of opens = 1
				Rows seen from the left = 5
				Rows seen from the right = 5
				Rows returned = 10
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Left result set:
					Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 1
					Rows seen = 5
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=5
						Number of rows visited=5
						Scan type=heap
						start position: 
null						stop position: 
null						qualifiers:
None
				Right result set:
					Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
					Number of opens = 1
					Rows seen = 5
					Rows filtered = 0
					Fetch Size = 1
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						next time in milliseconds/row = 0
					scan information: 
						Bit set of columns fetched=All
						Number of columns fetched=2
						Number of pages visited=1
						Number of rows qualified=5
						Number of rows visited=5
						Scan type=heap
						start position: 
null						stop position: 
null						qualifiers:
None
		Right result set:
			Table Scan ResultSet for T6 at read committed isolation level using share row locking chosen by the optimizer
			Number of opens = 7
			Rows seen = 0
			Rows filtered = 0
			Fetch Size = 1
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			scan information: 
				Bit set of columns fetched={}
				Number of columns fetched=0
				Number of pages visited=1
				Number of rows qualified=0
				Number of rows visited=0
				Scan type=heap
				start position: 
null				stop position: 
null				qualifiers:
None
	Right result set:
		Sort ResultSet:
		Number of opens = 0
		Rows input = 0
		Rows returned = 0
		Eliminate duplicates = true
		In sorted order = false
		Sort information: 
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Source result set:
			Union ResultSet:
			Number of opens = 0
			Rows seen from the left = 0
			Rows seen from the right = 0
			Rows returned = 0
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Project-Restrict ResultSet (12):
				Number of opens = 0
				Rows seen = 0
				Rows filtered = 0
				restriction = false
				projection = false
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Index Row to Base Row ResultSet for T4:
					Number of opens = 0
					Rows seen = 0
					Columns accessed from heap = {0}
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						Index Scan ResultSet for T4 using index T4_IX2 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 0
						Rows seen = 0
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						scan information: 
							start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
							stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
							qualifiers:
None
			Right result set:
				Project-Restrict ResultSet (15):
				Number of opens = 0
				Rows seen = 0
				Rows filtered = 0
				restriction = false
				projection = false
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
					restriction time (milliseconds) = 0
					projection time (milliseconds) = 0
				Source result set:
					Index Row to Base Row ResultSet for T3:
					Number of opens = 0
					Rows seen = 0
					Columns accessed from heap = {0}
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
						Index Scan ResultSet for T3 using index T3_IX2 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 0
						Rows seen = 0
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
						scan information: 
							start position: 
	>= on first 1 column(s).
	Ordered null semantics on the following columns: 
							stop position: 
	> on first 1 column(s).
	Ordered null semantics on the following columns: 
							qualifiers:
None
ij> -- Same as above, but without the outer predicate.  Should see
-- table scan on T3 and T4 (because nothing is pushed).
select X0.a, X2.i from
   (select a,b from t4 union select a,b from t3) X0,
   (select i,j from
      (select i,j from t1 union select i,j from t2) X1,
       T6
    where T6.p = X1.i) X2
;
A          |I          
-----------------------
ij> values SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS();
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Statement Name: 
	null
Statement Text: 
	-- Same as above, but without the outer predicate.  Should see
-- table scan on T3 and T4 (because nothing is pushed).
select X0.a, X2.i from
   (select a,b from t4 union select a,b from t3) X0,
   (select i,j from
      (select i,j from t1 union select i,j from t2) X1,
       T6
    where T6.p = X1.i) X2
Parse Time: 0
Bind Time: 0
Optimize Time: 0
Generate Time: 0
Compile Time: 0
Execute Time: 0
Begin Compilation Timestamp : null
End Compilation Timestamp : null
Begin Execution Timestamp : null
End Execution Timestamp : null
Statement Execution Plan Text: 
Project-Restrict ResultSet (13):
Number of opens = 1
Rows seen = 0
Rows filtered = 0
restriction = false
projection = true
	constructor time (milliseconds) = 0
	open time (milliseconds) = 0
	next time (milliseconds) = 0
	close time (milliseconds) = 0
	restriction time (milliseconds) = 0
	projection time (milliseconds) = 0
Source result set:
	Nested Loop Join ResultSet:
	Number of opens = 1
	Rows seen from the left = 0
	Rows seen from the right = 0
	Rows filtered = 0
	Rows returned = 0
		constructor time (milliseconds) = 0
		open time (milliseconds) = 0
		next time (milliseconds) = 0
		close time (milliseconds) = 0
	Left result set:
		Project-Restrict ResultSet (8):
		Number of opens = 1
		Rows seen = 0
		Rows filtered = 0
		restriction = false
		projection = true
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
			restriction time (milliseconds) = 0
			projection time (milliseconds) = 0
		Source result set:
			Hash Join ResultSet:
			Number of opens = 1
			Rows seen from the left = 7
			Rows seen from the right = 0
			Rows filtered = 0
			Rows returned = 0
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Sort ResultSet:
				Number of opens = 1
				Rows input = 10
				Rows returned = 7
				Eliminate duplicates = true
				In sorted order = false
				Sort information: 
					Number of rows input=10
					Number of rows output=7
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				Source result set:
					Union ResultSet:
					Number of opens = 1
					Rows seen from the left = 5
					Rows seen from the right = 5
					Rows returned = 10
						constructor time (milliseconds) = 0
						open time (milliseconds) = 0
						next time (milliseconds) = 0
						close time (milliseconds) = 0
					Left result set:
						Table Scan ResultSet for T1 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 1
						Rows seen = 5
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=5
							Number of rows visited=5
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
					Right result set:
						Table Scan ResultSet for T2 at read committed isolation level using share row locking chosen by the optimizer
						Number of opens = 1
						Rows seen = 5
						Rows filtered = 0
						Fetch Size = 1
							constructor time (milliseconds) = 0
							open time (milliseconds) = 0
							next time (milliseconds) = 0
							close time (milliseconds) = 0
							next time in milliseconds/row = 0
						scan information: 
							Bit set of columns fetched=All
							Number of columns fetched=2
							Number of pages visited=1
							Number of rows qualified=5
							Number of rows visited=5
							Scan type=heap
							start position: 
null							stop position: 
null							qualifiers:
None
			Right result set:
				Hash Scan ResultSet for T6 at read committed isolation level using instantaneous share row locking: 
				Number of opens = 7
				Hash table size = 0
				Hash key is column number 0
				Rows seen = 0
				Rows filtered = 0
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				scan information: 
					Bit set of columns fetched={0}
					Number of columns fetched=1
					Number of pages visited=1
					Number of rows qualified=0
					Number of rows visited=0
					Scan type=heap
					start position: 
null					stop position: 
null					scan qualifiers:
None
					next qualifiers:
Column[0][0] Id: 0
Operator: =
Ordered nulls: false
Unknown return value: false
Negate comparison result: false
	Right result set:
		Sort ResultSet:
		Number of opens = 0
		Rows input = 0
		Rows returned = 0
		Eliminate duplicates = true
		In sorted order = false
		Sort information: 
			constructor time (milliseconds) = 0
			open time (milliseconds) = 0
			next time (milliseconds) = 0
			close time (milliseconds) = 0
		Source result set:
			Union ResultSet:
			Number of opens = 0
			Rows seen from the left = 0
			Rows seen from the right = 0
			Rows returned = 0
				constructor time (milliseconds) = 0
				open time (milliseconds) = 0
				next time (milliseconds) = 0
				close time (milliseconds) = 0
			Left result set:
				Table Scan ResultSet for T4 at read committed isolation level using share row locking chosen by the optimizer
				Number of opens = 0
				Rows seen = 0
				Rows filtered = 0
				Fetch Size = 1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				scan information: 
					start position: 
null					stop position: 
null					qualifiers:
None
			Right result set:
				Table Scan ResultSet for T3 at read committed isolation level using share row locking chosen by the optimizer
				Number of opens = 0
				Rows seen = 0
				Rows filtered = 0
				Fetch Size = 1
					constructor time (milliseconds) = 0
					open time (milliseconds) = 0
					next time (milliseconds) = 0
					close time (milliseconds) = 0
				scan information: 
					start position: 
null					stop position: 
null					qualifiers:
None
ij> -- Additional tests with VALUES clauses.  Mostly just checking to make sure
-- these queries compile and execute, and to ensure that all predicates are
-- enforced even if they can't be pushed all the way down into a UNION.  So
-- we shouldn't get back any extra rows here.  NOTE: Row order is not important
-- in these queries, just so long as the correct rows are returned.
call SYSCS_UTIL.SYSCS_SET_RUNTIMESTATISTICS(0);
0 rows inserted/updated/deleted
ij> select * from
  (select * from t1 union select * from t2) x1,
  (values (2, 4), (3, 6), (4, 8)) x2 (a, b)
where x1.i = x2.a;
I          |J          |A          |B          
-----------------------------------------------
2          |-4         |2          |4          
2          |4          |2          |4          
3          |6          |3          |6          
4          |-8         |4          |8          
4          |8          |4          |8          
ij> select * from
  (select * from t1 union (values (1, -1), (2, -2), (5, -5))) x1 (i, j),
  (values (2, 4), (3, 6), (4, 8)) x2 (a, b)
where x1.i = x2.a;
I          |J          |A          |B          
-----------------------------------------------
2          |-2         |2          |4          
2          |4          |2          |4          
3          |6          |3          |6          
4          |8          |4          |8          
ij> select * from
  (select * from t1 union all (values (1, -1), (2, -2), (5, -5))) x1 (i, j),
  (values (2, 4), (3, 6), (4, 8)) x2 (a, b)
where x1.i = x2.a;
I          |J          |A          |B          
-----------------------------------------------
2          |4          |2          |4          
3          |6          |3          |6          
4          |8          |4          |8          
2          |-2         |2          |4          
ij> select * from
  (select * from t1 union (values (1, -1), (2, -2), (5, -5))) x1 (i, j),
  (values (2, 4), (3, 6), (4, 8)) x2 (a, b)
where x1.i = x2.a and x2.b = x1.j;
I          |J          |A          |B          
-----------------------------------------------
2          |4          |2          |4          
3          |6          |3          |6          
4          |8          |4          |8          
ij> select * from
  (values (2, -4), (3, -6), (4, -8) union
    values (1, -1), (2, -2), (5, -5)
  ) x1 (i, j),
  (values (2, 4), (3, 6), (4, 8)) x2 (a, b)
where x1.i = x2.a;
I          |J          |A          |B          
-----------------------------------------------
2          |-4         |2          |4          
2          |-2         |2          |4          
3          |-6         |3          |6          
4          |-8         |4          |8          
ij> select * from
  (values (2, -4), (3, -6), (4, -8) union
    values (1, -1), (2, -2), (5, -5)
  ) x1 (i, j),
  (values (2, 4), (3, 6), (4, 8)) x2 (a, b)
where x1.i = x2.a and x2.b = x1.j;
I          |J          |A          |B          
-----------------------------------------------
ij> select * from
  (values (1, -1), (2, -2), (5, -5) union select * from t1) x1 (i,j),
  (values (2, 4), (3, 6), (4, 8)) x2 (a, b)
where x1.i = x2.a;
I          |J          |A          |B          
-----------------------------------------------
2          |-2         |2          |4          
2          |4          |2          |4          
3          |6          |3          |6          
4          |8          |4          |8          
ij> -- Clean up DERBY-805 objects.
drop view v1;
0 rows inserted/updated/deleted
ij> drop view v2;
0 rows inserted/updated/deleted
ij> drop table t1;
0 rows inserted/updated/deleted
ij> drop table t2;
0 rows inserted/updated/deleted
ij> drop table t3;
0 rows inserted/updated/deleted
ij> drop table t4;
0 rows inserted/updated/deleted
ij> drop table t5;
0 rows inserted/updated/deleted
ij> drop table t6;
0 rows inserted/updated/deleted
ij> drop view xxunion;
0 rows inserted/updated/deleted
ij> drop view yyunion;
0 rows inserted/updated/deleted
ij> drop table xx1;
0 rows inserted/updated/deleted
ij> drop table yy1;
0 rows inserted/updated/deleted
ij> 
